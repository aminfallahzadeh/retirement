import{z as b,m as y,h as I,r as l,aA as w,j as e,eO as M,M as u,Y as _,eR as q,J as p,fJ as v,U as d,fK as P,ft as L,t as O,at as C,au as F,aw as G,fL as U}from"./index-CRad3sE9.js";import{T as Y}from"./Title-CaQy3AJ8.js";import{T as K}from"./TextArea-DifUInWp.js";import{c as V,S as k}from"./SelectInput-CClIbL5j.js";import{c as B}from"./useFetchLookUpData-afJ3SXZk.js";import{a as J}from"./convertFormData-gHt-HwdT.js";import{h as z,i as Q}from"./statementApi-CRfu_X0W.js";import"./react-select-animated.esm-DA9BtmsI.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./sharedApi-Bj4lfPKc.js";import"./requestApi-P45rVSbr.js";import"./personnelApi-CAou1wF1.js";import"./fractionApi-D6icoZPU.js";const H=["100","11","14","16","36","37","38","39","69","5","57","6","65","96","97","98"],W=["retirementStatementRunDate"],X=["retirementStatementTypeID"],Z=()=>{const[n]=b(),S=y(),r=n.get("personID"),T=n.get("requestID"),{control:s,handleSubmit:x,formState:{errors:o},setValue:a,watch:f}=I(),{data:m,isSuccess:i}=z(r),[E,{isLoading:R}]=Q(),t=f("retirementStatementTypeID"),{statementTypes:c,statementTypesIsLoading:D}=B(),j=l.useMemo(()=>V(c,"retirementStatementTypeID","retirementStatementTypeName"),[c]),N=async A=>{const h=J(A,X,W),g=await E({...h,personID:r,requestID:T}).unwrap();G.success(g.message),S(-1)};return l.useEffect(()=>{i&&a("retirementStatementRunDate",w(m))},[i,a,m]),e.jsx("section",{className:"flex-col mb-20",children:e.jsxs("form",{method:"POST",className:"flex-col formContainer",onSubmit:x(N),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(k,{name:"retirementStatementTypeID",control:s,label:M,required:!0,isClearable:!0,options:j,isLoading:D,rules:u,errors:o}),e.jsx(_,{name:"retirementStatementRunDate",label:q,control:s,errors:o,rules:u,required:!0,setValue:a}),(t==null?void 0:t.value)&&H.includes(t==null?void 0:t.value)&&e.jsxs(e.Fragment,{children:[e.jsx(p,{name:"newAmount",label:v,rules:d,required:!1,control:s,type:"text"}),e.jsx(p,{name:"newSup",label:P,rules:d,required:!1,control:s,type:"text"})]}),e.jsx(K,{name:"retirementStatementDesc",label:L,control:s,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(O,{dir:"ltr",endIcon:e.jsx(C,{}),variant:"contained",type:"submit",loading:R,color:"success",children:e.jsx("span",{children:F})})})]})})},Se=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(Y,{title:U,back:!0}),e.jsx(Z,{})]});export{Se as default};
