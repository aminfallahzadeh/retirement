import{z as S,r as u,m as g,h as j,j as e,b as C,M as o,J as b,P as h,Q as y,ar as I,t as N,dz as D,aJ as v,au as L,dA as O}from"./index-Celh3WKK.js";import{b as P,c as A}from"./requestApi-DHvqSv-E.js";import{D as Q}from"./DoneOutlined-Cqufw11X.js";import{c as w,S as _}from"./SelectInput-Dxr5j-Nb.js";import{T as F}from"./TextArea-BbsNBbbo.js";import{T as U}from"./Title-rRmkHYNa.js";import"./react-select-animated.esm-7mhEMB7w.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";const z=()=>{const[r]=S(),[l,m]=u.useState([]),d=g(),p=r.get("role"),{data:n,isLoading:x,isSuccess:i}=P(p),[T,{isLoading:q}]=A(),{control:t,handleSubmit:f,formState:{errors:E}}=j();u.useEffect(()=>{if(i){const s=n.itemList,a=w(s,"requestTypeID","name");m(a)}},[i,n]);const R=async s=>{var c;const a=await T({...s,requestTypeID:(c=s.requestTypeID)==null?void 0:c.value,requestFrom:1,nationalCode:v(s.nationalCode)}).unwrap();L.success(a.message),d("/retirement/cartable")};return e.jsx("section",{className:"formContainer flex-col",children:e.jsxs("form",{method:"POST",className:"flex-col",onSubmit:f(R),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(_,{name:"requestTypeID",control:t,label:C,required:!1,isClearable:!0,rules:o,errors:E,options:l,isLoading:x}),e.jsx(b,{name:"nationalCode",label:h,required:!0,control:t,rules:{...o,...y},type:"text"}),e.jsx(F,{name:"requestText",label:I,rules:o,required:!0,control:t,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(N,{dir:"ltr",endIcon:e.jsx(Q,{}),variant:"contained",type:"submit",loading:q,color:"success",children:e.jsx("span",{children:D})})})]})})},X=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(U,{title:O,back:!0}),e.jsx(z,{})]});export{X as CreateRequest};
