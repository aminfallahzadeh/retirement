import{A as g,n as b,h as I,r as u,aB as v,j as e,eU as w,N as l,Z as P,eX as _,K as p,fO as q,V as d,fP as M,fy as O,v as L,au as C,av as F,ax as G,k as U,fQ as K}from"./index-N58BBWKb.js";import{T as V}from"./TextArea-C6sgpjfn.js";import{c as k,S as B}from"./SelectInput-CzQj549f.js";import{c as Y}from"./useFetchLookUpData-K_qkNkw8.js";import{a as Q}from"./convertFormData-CJYHF86N.js";import{h as X,i as Z}from"./statementApi-B4hSjTeP.js";import"./react-select-animated.esm-DO7WXjOE.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./sharedApi-BlfukM_H.js";import"./requestApi-CvbzcBqY.js";import"./personnelApi-C-Wgm4HA.js";import"./fractionApi-JSGtCmaz.js";const z=["100","11","14","16","36","37","38","39","69","5","57","6","65","96","97","98"],H=["retirementStatementRunDate"],J=["retirementStatementTypeID"],W=["newAmount","newSup"],$=()=>{const[n]=g(),S=b(),r=n.get("personID"),x=n.get("requestID"),{control:s,handleSubmit:T,formState:{errors:o},setValue:a,watch:f}=I(),{data:m,isSuccess:i}=X(r),[E,{isLoading:D}]=Z(),t=f("retirementStatementTypeID"),{statementTypes:c,statementTypesIsLoading:N}=Y(),R=u.useMemo(()=>k(c,"retirementStatementTypeID","retirementStatementTypeName"),[c]),j=async A=>{const h=Q(A,J,H,W,[]),y=await E({...h,personID:r,requestID:x}).unwrap();G.success(y.message),S(-1)};return u.useEffect(()=>{i&&a("retirementStatementRunDate",v(m))},[i,a,m]),e.jsx("section",{className:"flex-col mb-20",children:e.jsxs("form",{method:"POST",className:"flex-col formContainer",onSubmit:T(j),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(B,{name:"retirementStatementTypeID",control:s,label:w,required:!0,isClearable:!0,options:R,isLoading:N,rules:l,errors:o}),e.jsx(P,{name:"retirementStatementRunDate",label:_,control:s,errors:o,rules:l,required:!0,setValue:a}),(t==null?void 0:t.value)&&z.includes(t==null?void 0:t.value)&&e.jsxs(e.Fragment,{children:[e.jsx(p,{name:"newAmount",label:q,rules:d,required:!1,control:s,type:"text"}),e.jsx(p,{name:"newSup",label:M,rules:d,required:!1,control:s,type:"text"})]}),e.jsx(V,{name:"retirementStatementDesc",label:O,control:s,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(L,{dir:"ltr",endIcon:e.jsx(C,{}),variant:"contained",type:"submit",loading:D,color:"success",children:e.jsx("span",{children:F})})})]})})},Se=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(U,{title:K,back:!0}),e.jsx($,{})]});export{Se as default};
