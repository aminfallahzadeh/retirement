import{A as N,r as n,n as R,h as b,j as e,b as y,N as r,K as A,Q as I,S as v,at as D,v as F,au as L,dF as O,aM as w,ax as P,k as Q,dG as _}from"./index-75zhT6gl.js";import{b as B,c as U}from"./requestApi-C7A3UixC.js";import{c as k,S as G}from"./SelectInput-BjDhIOA9.js";import{T as M}from"./TextArea-CVFp6v9D.js";import"./react-select-animated.esm-p7Pyr3H5.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";const d=["6E7BA26E-A1DC-4A5E-9700-17820A36158D","62A54585-F331-434A-9027-C9F3060F683A"],K=()=>{const[i]=N(),[p,x]=n.useState([]),f=R(),E=i.get("role"),{data:c,isLoading:T,isSuccess:u}=B(E),[q,{isLoading:g}]=U(),{control:a,handleSubmit:C,formState:{errors:S},watch:j,unregister:l}=b(),s=j("requestTypeID");n.useEffect(()=>{if(u){const t=c.itemList,o=k(t,"requestTypeID","name");x(o)}},[u,c]);const h=async t=>{var m;console.log(t);const o=await q({...t,requestTypeID:(m=t.requestTypeID)==null?void 0:m.value,requestFrom:1,nationalCode:w(t.nationalCode)}).unwrap();P.success(o.message),f("/retirement/cartable")};return n.useEffect(()=>{s&&d.includes(s==null?void 0:s.value)&&l("nationalCode")},[s,l]),e.jsx("section",{className:"formContainer flex-col",children:e.jsxs("form",{method:"POST",className:"flex-col",onSubmit:C(h),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(G,{name:"requestTypeID",control:a,label:y,required:!1,isClearable:!0,rules:r,errors:S,options:p,isLoading:T}),!d.includes(s==null?void 0:s.value)&&e.jsx(A,{name:"nationalCode",label:I,required:!0,control:a,rules:{...r,...v},type:"text"}),e.jsx(M,{name:"requestText",label:D,rules:r,required:!0,control:a,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(F,{dir:"ltr",endIcon:e.jsx(L,{}),variant:"contained",type:"submit",loading:g,color:"success",children:e.jsx("span",{children:O})})})]})})},$=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(Q,{title:_,back:!0}),e.jsx(K,{})]});export{$ as CreateRequest};
