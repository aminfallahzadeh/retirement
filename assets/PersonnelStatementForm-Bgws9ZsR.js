import{c as B,j as s,f as F,r as I,a as l,k as L,n as m,m as p,b9 as v}from"./index-DSED7iL5.js";import{a as j}from"./personApi-XCsOE6c4.js";const y=B(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchOutlined");function q(){const[c,{isLoading:d,isFetching:u}]=j(),N=F(),[e,h]=I.useState(null),o=r=>{const{name:a,value:t}=r.target;h({...e,[a]:t})},x=!e||!e.personFirstName&&!e.personLastName&&!e.personNationalCode&&!e.personnelID,_=async()=>{var r;try{const a=(e==null?void 0:e.personnelID)||"",t=(e==null?void 0:e.personFirstName)||"",f=(e==null?void 0:e.personLastName)||"",C=(e==null?void 0:e.personNationalCode)||"",i=await c({personnelID:m(a),personFirstName:t,personLastName:f,personNationalCode:m(C)}).unwrap();if(i.itemList.length===0){p.error("نتیجه ای یافت نشد",{autoClose:2e3});return}const g=i.itemList.map((n,D)=>({id:n.personID,personRowNum:D+1,personDeathDate:n.personDeathDate,personnelID:n.personnelID,personNationalCode:n.personNationalCode,personFirstName:n.personFirstName,personLastName:n.personLastName}));N(v(g))}catch(a){console.log(a),p.error(((r=a==null?void 0:a.data)==null?void 0:r.message)||a.error,{autoClose:2e3})}};return s.jsxs("section",{className:"formContainer flex-col",children:[s.jsxs("form",{method:"POST",className:"grid grid--col-4",noValidate:!0,children:[s.jsxs("div",{className:"inputBox__form",children:[s.jsx("input",{type:"text",id:"personNationalCode",className:"inputBox__form--input",value:l(e==null?void 0:e.personNationalCode),name:"personNationalCode",onChange:o,required:!0}),s.jsx("label",{htmlFor:"personNationalCode",className:"inputBox__form--label",children:"کد ملی"})]}),s.jsxs("div",{className:"inputBox__form",children:[s.jsx("input",{type:"text",id:"personnelID",className:"inputBox__form--input",value:l(e==null?void 0:e.personnelID),name:"personnelID",onChange:o,required:!0}),s.jsx("label",{htmlFor:"personnelID",className:"inputBox__form--label",children:"شماره کارمندی"})]}),s.jsxs("div",{className:"inputBox__form",children:[s.jsx("input",{type:"text",id:"personFirstName",className:"inputBox__form--input",name:"personFirstName",onChange:o,required:!0}),s.jsx("label",{htmlFor:"personFirstName",className:"inputBox__form--label",children:"نام"})]}),s.jsxs("div",{className:"inputBox__form",children:[s.jsx("input",{type:"text",id:"personLastName",className:"inputBox__form--input",name:"personLastName",onChange:o,required:!0}),s.jsx("label",{htmlFor:"personLastName",className:"inputBox__form--label",children:"نام خانوادگی"})]})]}),s.jsx("div",{style:{marginRight:"auto"},className:"flex-row",children:s.jsx(L,{dir:"ltr",endIcon:s.jsx(y,{}),disabled:x,variant:"contained",color:"primary",loading:d||u,onClick:_,sx:{fontFamily:"sahel"},children:s.jsx("span",{children:"جست و جو"})})})]})}export{q as P};
