import{z as R,r,m as b,h as N,j as e,b as y,M as n,J as A,P as I,Q as D,ar as v,t as L,dz as O,aJ as F,au as P,dA as w}from"./index-CyGviqj5.js";import{b as Q,c as _}from"./requestApi-BC4F7QQD.js";import{D as B}from"./DoneOutlined-DG-0h_jp.js";import{c as U,S as z}from"./SelectInput-Dfnhlftk.js";import{T as J}from"./TextArea-3TeOw1em.js";import{T as M}from"./Title-ACsxo-YV.js";import"./react-select-animated.esm-DKZ-JB8a.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";const p=["6E7BA26E-A1DC-4A5E-9700-17820A36158D","62A54585-F331-434A-9027-C9F3060F683A"],k=()=>{const[i]=R(),[d,x]=r.useState([]),f=b(),T=i.get("role"),{data:c,isLoading:E,isSuccess:u}=Q(T),[q,{isLoading:g}]=_(),{control:o,handleSubmit:C,formState:{errors:S},watch:j,unregister:l}=N(),s=j("requestTypeID");r.useEffect(()=>{if(u){const t=c.itemList,a=U(t,"requestTypeID","name");x(a)}},[u,c]);const h=async t=>{var m;console.log(t);const a=await q({...t,requestTypeID:(m=t.requestTypeID)==null?void 0:m.value,requestFrom:1,nationalCode:F(t.nationalCode)}).unwrap();P.success(a.message),f("/retirement/cartable")};return r.useEffect(()=>{s&&p.includes(s==null?void 0:s.value)&&l("nationalCode")},[s,l]),e.jsx("section",{className:"formContainer flex-col",children:e.jsxs("form",{method:"POST",className:"flex-col",onSubmit:C(h),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(z,{name:"requestTypeID",control:o,label:y,required:!1,isClearable:!0,rules:n,errors:S,options:d,isLoading:E}),!p.includes(s==null?void 0:s.value)&&e.jsx(A,{name:"nationalCode",label:I,required:!0,control:o,rules:{...n,...D},type:"text"}),e.jsx(J,{name:"requestText",label:v,rules:n,required:!0,control:o,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(L,{dir:"ltr",endIcon:e.jsx(B,{}),variant:"contained",type:"submit",loading:g,color:"success",children:e.jsx("span",{children:O})})})]})})},se=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(M,{title:w,back:!0}),e.jsx(k,{})]});export{se as CreateRequest};
