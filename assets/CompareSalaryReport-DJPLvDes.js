import{c as ie,j as e,ah as M,B as $,C as K,T as E,I as L,v as oe,b5 as F,r as u,l as z,o as I,y as w,m as V,ae as H,e as re,b6 as ce,b7 as me,b8 as ue,F as pe,i as P,D as de,h as xe,A as W}from"./index-CRgz4MxH.js";import{G as ye,S as he}from"./GlobalSearch-rPZM1vgz.js";import{O as D,R as Q,ar as Ie,as as fe,at as ge,au as Y,av as U,af as je,ag as Ne,N as be,aw as ve,F as Ce,b as Te,ax as J,ay as _e,az as Se,aA as Ae,aB as De,aC as Fe,aD as Oe,aE as Be}from"./const-SWWyHmd9.js";import{E as X}from"./VisibilityOutlined-D3FY8dNs.js";import{D as Me}from"./DeleteOutline-Dgaxnjq4.js";import{s as B}from"./numberConverter-DebZ6KrJ.js";import{A as Ee}from"./Add-BTRTqv1c.js";import{u as Z}from"./index.esm-CUc0Hu80.js";import{C as ee,S as Le}from"./index-BrJsqITE.js";import{b as Pe}from"./sharedApi-BLYfQrAr.js";import{i as Re,S as qe}from"./react-select-animated.esm-CR0smAGq.js";import{f as ae}from"./useFetchLookUpData-CnuACE1u.js";import{o as ze,s as G}from"./reactSelect-BGq5yAQc.js";import{L as we,W as Ye,C as ke,N as Ge}from"./messages-C1aWCoMO.js";import{W as $e}from"./InfoOutlined-CzSLBTR7.js";import{G as se}from"./Grid-f9kmv1Hk.js";import{I as Ke}from"./Input-DB9yLEzt.js";import{c as Ve,S as q}from"./SelectInput-C8K8gJhV.js";import{r as O,o as He,y as We}from"./rules-CsNbLTDl.js";import{a as Qe}from"./reportApi-BFfS-i-o.js";const Ue=ie(e.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmptyOutlined"),Je=({open:l,title:a=we,description:s=Ye})=>e.jsxs(M,{open:l,title:a,children:[e.jsxs("div",{className:"flex gap-x-2 items-center justify-center m-5",children:[e.jsx(Ue,{color:"primary",fontSize:"small"}),e.jsx("h5",{className:"text-gray-400",children:s})]}),e.jsx($,{sx:{display:"flex",justifyContent:"center",padding:"2rem 10rem"},children:e.jsx(K,{color:"primary"})})]}),Pa=[{value:"1",label:"گروهی"},{value:"2",label:"انفرادی"}],Ra=[{value:"M",label:"شهرداری"},{value:"C",label:"کشوری"},{value:"E",label:"مزایا"}],qa=[{value:"1403",label:"۱۴۰۳"},{value:"1402",label:"۱۴۰۲"},{value:"1401",label:"۱۴۰۱"},{value:"1400",label:"۱۴۰۰"},{value:"1399",label:"۱۳۹۹"},{value:"1398",label:"۱۳۹۸"},{value:"1397",label:"۱۳۹۷"},{value:"1396",label:"۱۳۹۶"},{value:"1395",label:"۱۳۹۵"},{value:"1394",label:"۱۳۹۴"},{value:"1393",label:"۱۳۹۳"},{value:"1392",label:"۱۳۹۲"},{value:"1391",label:"۱۳۰۱"},{value:"1390",label:"۱۳۹۰"}],Xe=[{value:"1",label:"فروردین"},{value:"2",label:"اردیبهشت"},{value:"3",label:"خرداد"},{value:"4",label:"تیر"},{value:"5",label:"مرداد"},{value:"6",label:"شهریور"},{value:"7",label:"مهر"},{value:"8",label:"آبان"},{value:"9",label:"آذر"},{value:"10",label:"دی"},{value:"11",label:"بهمن"},{value:"12",label:"اسفند"}],Ze=[{value:"1",label:"بازنشسته"},{value:"0",label:"وظیفه بگیر"},{value:"-1",label:"هر دو"}],ea=l=>[{accessorKey:"observeStaff",header:D,enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:a})=>e.jsx(E,{title:D,children:e.jsx(L,{color:"primary",sx:{padding:"0"},onClick:()=>l(a.original.id),children:e.jsx(X,{})})})}],aa=oe.injectEndpoints({endpoints:l=>({getFinancialItems:l.query({query:a=>({url:`${F}/GetFinancialItems?personID=${a}`})}),getFinancialItem:l.query({query:a=>({url:`${F}/GetFinancialItem?FinancialItemID=${a}`})}),insertFinancialItem:l.mutation({query:a=>({url:`${F}/InsertFinancialItem`,method:"POST",body:a})}),removeFinancialItem:l.mutation({query:a=>({url:`${F}/RemoveFinancialItem?ID=${a}`,method:"POST"})})})}),{useLazyGetFinancialItemsQuery:te,useLazyGetFinancialItemQuery:za,useGetFinancialItemQuery:sa,useInsertFinancialItemMutation:ta,useRemoveFinancialItemMutation:na}=aa,la=(l,a)=>[{accessorKey:"financialItemRowNum",header:Q,size:20,enableSorting:!1,enableColumnActions:!1},{accessorKey:"payItemTypeID",header:Ie,size:20},{accessorKey:"payItemTypeName",header:fe,size:20},{accessorKey:"payItemAmount",header:ge,size:20,Cell:({renderedCellValue:s})=>e.jsx("span",{children:B(s)})},{accessorKey:"editPayItem",header:D,enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:s})=>e.jsx(E,{title:`${D} "${s.original.payItemTypeName}"`,children:e.jsx(L,{color:"primary",sx:{padding:"0"},onClick:()=>l(s.original.id),children:e.jsx(X,{})})})},{accessorKey:"removePayItem",header:Y,enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:s})=>e.jsx(E,{title:`${Y} "${s.original.payItemTypeName}"`,children:e.jsx(L,{color:"error",sx:{padding:"0"},onClick:()=>a(s.original.id),children:e.jsx(Me,{})})})}],ia=({fn:l,disabled:a})=>e.jsx(E,{title:U,children:e.jsx("span",{children:e.jsx(L,{"aria-label":"refresh",color:"success",onClick:l,disabled:a,children:e.jsx(Ee,{fontSize:"small"})})})});function oa({id:l}){const{handleSubmit:a,formState:{errors:s},register:r,watch:p,setValue:m}=Z(),f=i=>{console.log(i)},t=p(),{data:c,isLoading:x,isFetching:j,isSuccess:N,error:d}=sa(l);u.useEffect(()=>{if(N){const i=c==null?void 0:c.itemList[0];Object.keys(i).forEach(g=>{m(g,i[g]),(i.instalementAmount||i.instalementAmount)&&m("isInstallment",!0)})}},[N,c==null?void 0:c.itemList,m]),u.useEffect(()=>{var i;d&&d.status!=="FETCH_ERROR"&&z.error(((i=d==null?void 0:d.data)==null?void 0:i.message)||d.error,{autoClose:2e3})},[d]);const b=i=>{let g=V(H(i.target.value));m(i.target.name,g)};return e.jsx(e.Fragment,{children:x||j?e.jsx($,{sx:{display:"flex",justifyContent:"center",padding:"2rem 10rem"},children:e.jsx(K,{color:"primary"})}):e.jsx("section",{className:"formContainer-transparent formContainer--width-lg flex-col",children:e.jsx("form",{method:"POST",className:"flex-col",onSubmit:a(f),noValidate:!0,children:e.jsxs("div",{className:"grid grid--col-3",children:[e.jsxs("div",{className:"inputBox__form",children:[s.payItemTypeID&&e.jsx("span",{className:"error-form",children:s.payItemTypeID.message}),e.jsx("input",{type:"text",className:"inputBox__form--input",value:I(t==null?void 0:t.payItemTypeID)||"",name:"payItemTypeID",id:"payItemTypeID",required:!0,disabled:!0,...r("payItemTypeID",{required:"شناسه آیتم اجباری است",pattern:{value:/^[۰-۹0-9]+$/,message:"شناسه فقط شامل اعداد باشد"}})}),e.jsx("label",{className:"inputBox__form--label",htmlFor:"payItemTypeID",children:"شناسه آیتم"})]}),e.jsxs("div",{className:"inputBox__form",children:[s.payItemTypeName&&e.jsx("span",{className:"error-form",children:s.payItemTypeName.message}),e.jsx("input",{type:"text",className:"inputBox__form--input",value:(t==null?void 0:t.payItemTypeName)||"",name:"payItemTypeName",id:"payItemTypeName",required:!0,disabled:!0,...r("payItemTypeName",{required:"شرح آیتم اجباری است",pattern:{value:/^[آ-ی\s۰-۹]+$/,message:"از حروف و اعداد فارسی استفاده کنید"}})}),e.jsx("label",{className:"inputBox__form--label",htmlFor:"payItemTypeName",children:"شرح آیتم"})]}),e.jsxs("div",{className:"inputBox__form",children:[s.financialItemAmount&&e.jsx("span",{className:"error-form",children:s.financialItemAmount.message}),e.jsx("input",{type:"text",className:"inputBox__form--input",disabled:!0,value:w(I(t.financialItemAmount))||"",name:"financialItemAmount",id:"financialItemAmount",required:!0,...r("financialItemAmount",{onChange:b,required:"مبلغ اجباری است",pattern:{value:/^[۰-۹0-9]+$/,message:"مبلغ فقط شامل اعداد باشد"}})}),e.jsx("label",{className:"inputBox__form--label",htmlFor:"financialItemAmount",children:"مبلغ کل"})]}),e.jsx("h4",{className:"title-quaternary",style:{justifySelf:"start",alignSelf:"center"},children:"تاریخ شروع محاسبه فیش :"}),e.jsxs("div",{className:"inputBox__form",children:[s.executeYear&&e.jsx("span",{className:"error-form",children:s.executeYear.message}),e.jsx("input",{type:"text",disabled:!0,className:"inputBox__form--input",value:I(t==null?void 0:t.executeYear)||"",name:"executeYear",id:"executeYear",required:!0,...r("executeYear",{required:"سال اجباری است",minLength:{value:4,message:"سال باید ۴ رقمی باشد"},maxLength:{value:4,message:"سال باید ۴ رقمی باشد"},pattern:{value:/^[۰-۹0-9]+$/,message:"سال شامل اعداد باشد"}})}),e.jsx("label",{className:"inputBox__form--label",htmlFor:"executeYear",children:"سال"})]}),e.jsxs("div",{className:"inputBox__form",children:[s.executeYear&&e.jsx("span",{className:"error-form",children:s.executeYear.message}),e.jsx("input",{type:"text",className:"inputBox__form--input",value:I(t==null?void 0:t.executeMonth)||"",name:"executeMonth",id:"executeMonth",required:!0,disabled:!0,...r("executeMonth",{required:"ماه اجباری است",minLength:{value:2,message:"ماه باید ۲ رقمی باشد"},maxLength:{value:2,message:"ماه باید ۲ رقمی باشد"},pattern:{value:/^[۰-۹0-9]+$/,message:"ماه شامل اعداد باشد"}})}),e.jsx("label",{className:"inputBox__form--label",htmlFor:"executeYear",children:"ماه"})]}),e.jsxs("div",{className:"checkboxContainer__item",style:{justifySelf:"start",alignSelf:"center"},children:[e.jsx(ee,{size:"small",color:"success",checked:!!(t!=null&&t.isInstallment),name:"isInstallment",id:"isInstallment",disabled:!0,sx:{padding:.5},...r("isInstallment")}),e.jsx("label",{htmlFor:"isInstallment",className:"checkboxContainer__label",children:"قسطی"})]}),t.isInstallment&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"inputBox__form",children:[s.instalementCount&&e.jsx("span",{className:"error-form",children:s.instalementCount.message}),e.jsx("input",{type:"text",disabled:!0,className:"inputBox__form--input",value:I(t==null?void 0:t.instalementCount)||"",name:"instalementCount",id:"instalementCount",required:!0,...r("instalementCount",{required:"تعداد قسط اجباری است",pattern:{value:/^[۰-۹0-9]+$/,message:"تعداد قسط شامل اعداد باشد"}})}),e.jsx("label",{className:"inputBox__form--label",htmlFor:"instalementCount",children:"تعداد قسط"})]}),e.jsxs("div",{className:"inputBox__form",children:[s.instalementAmount&&e.jsx("span",{className:"error-form",children:s.instalementAmount.message}),e.jsx("input",{type:"text",className:"inputBox__form--input",value:I(t==null?void 0:t.instalementAmount)||"",name:"instalementAmount",id:"instalementAmount",required:!0,disabled:!0,...r("instalementAmount",{required:"مبلغ قسط اجباری است",pattern:{value:/^[۰-۹0-9]+$/,message:"مبلغ قسط شامل اعداد باشد"}})}),e.jsx("label",{className:"inputBox__form--label",htmlFor:"instalementAmount",children:"مبلغ قسط"})]})]})]})})})})}function ra(){const l=re(),[a,{isLoading:s,isFetching:r}]=te();return{getFinancialItems:async m=>{try{const t=(await a(m).unwrap()).itemList.map((c,x)=>({id:c.financialItemID,personID:c.personID,financialItemRowNum:x+1,payItemTypeID:c.payItemTypeID||"-",payItemTypeName:c.payItemTypeName||"-",payItemAmount:c.financialItemAmount||"-"}));l(ce(t)),l(me(m)),l(ue(!0))}catch(f){console.log(f)}},isLoading:s,isFetching:r}}function ca({setIsInsertItemModalOpen:l}){const[a,s]=u.useState({}),[r,p]=u.useState(""),m=Re(),f=pe(n=>n.financialData.payPersonID),{getFinancialItems:t}=ra(),[c,{isLoading:x}]=ta();u.useEffect(()=>{console.log(a)},[a]);const{payItemTypes:j,payItemTypesIsLoading:N,payItemTypesIsFetching:d}=ae(),b=ze(j,"payItemTypeID","payItemTypeName"),S=async()=>{var n;try{const{isInstallment:o,...h}=a,v=await c({...h,financialItemID:null,expireData:null,payItemTypeName:null,personID:f}).unwrap();console.log(v),l(!1),z.success(v.message,{autoClose:2e3}),t(f)}catch(o){console.log(o),z.error(((n=o==null?void 0:o.data)==null?void 0:n.message)||o.error,{autoClose:2e3})}},i=n=>{const{name:o,value:h}=n.target;s({...a,[o]:V(H(h))})},g=(n,o)=>{const{name:h}=o;if(n){const{value:v}=n;s({...a,[h]:v})}else s({...a,[h]:null})},[T,{isLoading:y}]=Pe(),_=u.useCallback(async n=>{try{const o=await T(n).unwrap();p(o.itemList[0].payItemTypeName),console.log(o)}catch(o){console.log(o)}},[T]);u.useEffect(()=>{a.payItemTypeID?_(a.payItemTypeID):p("")},[a.payItemTypeID,_]);const R=n=>{const{name:o,checked:h}=n.target;s({...a,[o]:h})};return u.useEffect(()=>{if(a.instalementCount&&a.financialItemAmount){const n=parseInt(a.instalementCount),o=parseFloat(a.financialItemAmount);if(n>0){const h=o/n;s(v=>({...v,instalementAmount:h.toFixed()}))}}else(a.instalementCount===""||a.financialItemAmount==="")&&s(n=>({...n,instalementAmount:""}))},[a.instalementCount,a.financialItemAmount]),e.jsx("section",{className:"formContainer-transparent formContainer--width-lg flex-col",children:e.jsxs("form",{method:"POST",className:"flex-col",noValidate:!0,children:[e.jsxs("div",{className:"grid grid--col-3",children:[e.jsxs("div",{className:"inputBox__form",children:[e.jsx(qe,{closeMenuOnSelect:!0,components:m,options:b,onChange:g,value:b.find(n=>n.value===(a==null?void 0:a.payItemTypeID)),name:"payItemTypeID",isClearable:!0,placeholder:e.jsxs("div",{className:"react-select-placeholder",children:[e.jsx("span",{children:"*"})," شرح آیتم"]}),noOptionsMessage:G.noOptionsMessage,loadingMessage:G.loadingMessage,styles:{container:n=>({...n,position:"relative",height:"100%"}),control:n=>({...n,fontFamily:"IranYekan",cursor:"pointer",fontSize:"12px",height:"100%",maxWidth:"100%",maxHeight:"100%",overflow:"auto",textOverflow:"ellipsis",position:"relative"}),menu:n=>({...n,fontFamily:"IranYekan",zIndex:"5",height:"200px"}),option:n=>({...n,cursor:"pointer"}),menuList:n=>({...n,fontFamily:"IranYekan",zIndex:"5",height:"200px"})},isLoading:N||d}),e.jsxs("label",{className:a!=null&&a.payItemTypeID?"inputBox__form--readOnly-label":"inputBox__form--readOnly-label-hidden",children:[e.jsx("span",{children:"*"})," شرح آیتم"]})]}),e.jsxs("div",{className:"inputBox__form",children:[e.jsx("input",{type:"text",className:"inputBox__form--input",value:I(a.payItemTypeID)||"",name:"payItemTypeName",id:"payItemTypeName",disabled:!0,onChange:i,required:!0}),e.jsxs("label",{className:"inputBox__form--label",htmlFor:"payItemTypeName",children:[e.jsx("span",{children:"*"})," شناسه آیتم"]})]}),e.jsxs("div",{className:"inputBox__form",children:[e.jsx("input",{type:"text",className:"inputBox__form--input",onChange:i,value:I(w(a.financialItemAmount))||"",name:"financialItemAmount",id:"financialItemAmount",required:!0}),e.jsxs("label",{className:"inputBox__form--label",htmlFor:"financialItemAmount",children:[e.jsx("span",{children:"*"})," مبلغ کل"]})]}),e.jsx("h4",{className:"title-quaternary",style:{justifySelf:"start",alignSelf:"center"},children:"تاریخ شروع محاسبه فیش :"}),e.jsxs("div",{className:"inputBox__form",children:[e.jsx("input",{type:"text",className:"inputBox__form--input",value:I(a==null?void 0:a.executeYear)||"",name:"executeYear",id:"executeYear",required:!0,onChange:i}),e.jsxs("label",{className:"inputBox__form--label",htmlFor:"executeYear",children:[e.jsx("span",{children:"*"})," سال"]})]}),e.jsxs("div",{className:"inputBox__form",children:[e.jsx("input",{type:"text",className:"inputBox__form--input",value:I(a==null?void 0:a.executeMonth)||"",name:"executeMonth",id:"executeMonth",onChange:i,required:!0}),e.jsxs("label",{className:"inputBox__form--label",htmlFor:"executeYear",children:[e.jsx("span",{children:"*"})," ماه"]})]}),e.jsxs("div",{className:"checkboxContainer__item",style:{justifySelf:"start",alignSelf:"center"},children:[e.jsx(ee,{size:"small",color:"success",checked:!!(a!=null&&a.isInstallment),onChange:R,name:"isInstallment",id:"isInstallment",sx:{padding:.5}}),e.jsx("label",{htmlFor:"isInstallment",className:"checkboxContainer__label",children:"قسطی"})]}),a.isInstallment&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"inputBox__form",children:[e.jsx("input",{type:"text",className:"inputBox__form--input",value:I(a==null?void 0:a.instalementCount)||"",name:"instalementCount",id:"instalementCount",required:!0,onChange:i}),e.jsxs("label",{className:"inputBox__form--label",htmlFor:"instalementCount",children:[e.jsx("span",{children:"*"})," تعداد قسط"]})]}),e.jsxs("div",{className:"inputBox__form",children:[e.jsx("input",{type:"text",className:"inputBox__form--input",onChange:i,value:w(I(a==null?void 0:a.instalementAmount))||"",name:"instalementAmount",id:"instalementAmount",required:!0,disabled:!0}),e.jsxs("label",{className:"inputBox__form--label",htmlFor:"instalementAmount",children:[e.jsx("span",{children:"*"})," مبلغ قسط"]})]})]})]}),e.jsx("div",{style:{marginRight:"auto"},children:e.jsx(P,{dir:"ltr",endIcon:e.jsx(Le,{}),variant:"contained",onClick:S,type:"submit",loading:x,color:"success",children:e.jsx("span",{children:"ذخیره"})})})]})})}const ma=({open:l,onClose:a,isLoading:s,handleRemove:r,title:p=Y,description:m=ke})=>e.jsxs(M,{title:p,open:l,onClose:a,children:[e.jsxs("div",{className:"flex gap-x-2 items-center justify-center m-5",children:[e.jsx($e,{color:"warning",fontSize:"small"}),e.jsx("h5",{children:m})]}),e.jsxs("div",{className:"flex-row flex-center",children:[e.jsx(P,{dir:"ltr",endIcon:e.jsx(de,{}),onClick:r,loading:s,variant:"contained",color:"success",children:e.jsx("span",{children:je})}),e.jsx(P,{dir:"ltr",endIcon:e.jsx(xe,{}),onClick:a,loading:s,variant:"contained",color:"error",children:e.jsx("span",{children:Ne})})]})]}),ua=({data:l,isLoading:a,isFetching:s,topBarActions:r,columns:p})=>e.jsx(e.Fragment,{children:e.jsx(se,{columns:p,data:l,isFetching:s,topBarActions:r,isLoading:a,scroll:!1})}),wa=()=>{const[l,a]=u.useState([]),[s,r]=u.useState(!1),[p,m]=u.useState(!1),[f,t]=u.useState(!1),[c,x]=u.useState(""),[j,N]=u.useState(""),[d,b]=u.useState(!1),[S,{isLoading:i,isFetching:g}]=te(),[T,{isLoading:y}]=na(),_=C=>{r(!0),x(C)},R=C=>{m(!0),x(C)},k=()=>{t(!0)},n=async C=>{const ne=(await S(C).unwrap()).itemList.map((A,le)=>({id:A.financialItemID,personID:A.personID,financialItemRowNum:le+1,payItemTypeID:A.payItemTypeID||"-",payItemTypeName:A.payItemTypeName||"-",payItemAmount:A.financialItemAmount||"-"}));N(C),a(ne),b(!1)},o=async()=>{const C=await T(c).unwrap();n(j),m(!1),W.success(C.message)},h=la(_,R),v=ia({fn:k,disabled:d});return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:D,open:s,onClose:()=>r(!1),children:e.jsx(oa,{id:c})}),e.jsx(ma,{open:p,isLoading:y,onClose:()=>m(!1),handleRemove:o}),e.jsx(M,{title:U,open:f,onClose:()=>t(!1),children:e.jsx(ca,{setIsInsertItemModalOpen:t})}),e.jsx(ye,{actions:ea(n)}),e.jsx("div",{className:"flex-col flex-center u-margin-top-md",children:e.jsx("h4",{className:"title-secondary",children:"جدول آیتم ها"})}),e.jsx(ua,{columns:h,data:l,isFetching:g,topBarActions:v,isLoading:i})]})},pa=[{accessorKey:"compareRowNum",header:Q,enableSorting:!1,enableColumnActions:!1,size:20},{accessorKey:"payNationalCode",header:be,size:20},{accessorKey:"payPersonID",header:ve,size:20},{accessorKey:"payFirstName",header:Ce,size:20},{accessorKey:"payLastName",header:Te,size:20},{accessorKey:"payCurrentMonth",header:J,size:20},{accessorKey:"payLastMonth",header:_e,size:20},{accessorKey:"payDiff",header:Se,size:20},{accessorKey:"payStatus",header:Ae,size:20}],da=u.memo(({data:l,isLoading:a,isFetching:s})=>e.jsx(se,{data:l,columns:pa,scroll:!1,isLoading:a,isFetching:s})),xa=()=>{const[l,a]=u.useState([]),{control:s,handleSubmit:r,formState:{errors:p}}=Z(),{payItemTypes:m,payItemTypesIsLoading:f,payItemTypesIsFetching:t}=ae(),[c,{isLoading:x,isFetching:j}]=Qe(),N=Ve(m,"payItemTypeID","payItemTypeName"),d=async i=>{const g=await c({...i,CurrentMonth:i.CurrentMonth.value,PayItemTypeID:i.PayItemTypeID.value,pensionaryIsRetired:i.pensionaryIsRetired.value}).unwrap();if(g.itemList.length===0){W.warning(Ge);return}const T=g.itemList.map((y,_)=>({id:y.personnelID,compareRowNum:_+1,payNationalCode:y.personNationalCode||"-",payPersonID:y.personnelID||"-",payFirstName:y.personFirstName||"-",payLastName:y.personLastName||"-",payCurrentMonth:B(y.currentpayItemAmount)||"-",payLastMonth:B(y.prepayItemAmount)||"-",payDiff:B(y.diffpay)||"-",payStatus:y.pensionaryStatusName||"-"}));a(T)},b=u.useMemo(()=>l,[l]);return e.jsxs(e.Fragment,{children:[e.jsx(Je,{open:x||j}),e.jsxs("section",{className:"flex-col",children:[e.jsxs("form",{method:"POST",className:"flex-col",onSubmit:r(d),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(Ke,{name:"CurrentYear",label:De,required:!0,control:s,type:"text",rules:{...O,...He,...We}}),e.jsx(q,{name:"CurrentMonth",control:s,label:J,options:Xe,required:!0,rules:O,isClearable:!0,errors:p}),e.jsx(q,{name:"PayItemTypeID",control:s,label:Fe,options:N,required:!0,isLoading:f||t,rules:O,isClearable:!0,errors:p}),e.jsx(q,{name:"pensionaryIsRetired",control:s,label:Oe,options:Ze,required:!0,rules:O,isClearable:!0,errors:p})]}),e.jsx("div",{className:"flex-row mr-auto flex-center",children:e.jsx(P,{dir:"ltr",type:"submit",endIcon:e.jsx(he,{}),loading:x||j,variant:"contained",color:"success",sx:{fontFamily:"IranYekan"},children:e.jsx("span",{children:Be})})})]}),e.jsx(da,{data:b,isLoading:x,isFetching:j})]})]})},Ya=()=>e.jsx(xa,{});export{Ya as C,wa as F,Je as L,Xe as a,qa as c,Pa as i,Ra as p};
