import{z as g,m as y,h as I,r as l,aJ as _,j as e,cq as q,_ as u,cs as v,Y as p,fb as w,a3 as d,fc as M,fd as P,t as F,aD as L,aF as O,fe as C}from"./index-DXCdSF22.js";import{T as G}from"./Title-CXUyA-6G.js";import{D as U}from"./DoneOutlined-BUCchpo2.js";import{D as Y,a as V}from"./convertFormData-BUxtWht_.js";import{T as k}from"./TextArea-BHv_Ex3g.js";import{c as B,S as K}from"./SelectInput-n_FKm4Tr.js";import{d as z}from"./useFetchLookUpData-CgT59kGn.js";import{h as J,i as Q}from"./statementApi-CK5Z6mj3.js";import"./useCloseCalender-DJvUplAt.js";import"./react-select-animated.esm-DtxqCo1G.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./sharedApi-D7HSSvIH.js";import"./requestApi-CYZhB6RA.js";import"./fractionApi-COwViYEV.js";const H=["100","11","14","16","36","37","38","39","69","5","57","6","65","96","97","98"],W=["retirementStatementRunDate"],X=["retirementStatementTypeID"],Z=()=>{const[n]=g(),S=y(),r=n.get("personID"),T=n.get("requestID"),{control:s,handleSubmit:f,formState:{errors:o},setValue:a,watch:x}=I(),{data:m,isSuccess:i}=J(r),[D,{isLoading:E}]=Q(),t=x("retirementStatementTypeID"),{statementTypes:c,statementTypesIsLoading:R}=z(),j=l.useMemo(()=>B(c,"retirementStatementTypeID","retirementStatementTypeName"),[c]),N=async h=>{const A=V(h,X,W),b=await D({...A,personID:r,requestID:T}).unwrap();O.success(b.message),S(-1)};return l.useEffect(()=>{i&&a("retirementStatementRunDate",_(m))},[i,a,m]),e.jsx("section",{className:"flex-col mb-20",children:e.jsxs("form",{method:"POST",className:"flex-col formContainer",onSubmit:f(N),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(K,{name:"retirementStatementTypeID",control:s,label:q,required:!0,isClearable:!0,options:j,isLoading:R,rules:u,errors:o}),e.jsx(Y,{name:"retirementStatementRunDate",label:v,control:s,errors:o,rules:u,required:!0,setValue:a}),(t==null?void 0:t.value)&&H.includes(t==null?void 0:t.value)&&e.jsxs(e.Fragment,{children:[e.jsx(p,{name:"newAmount",label:w,rules:d,required:!1,control:s,type:"text"}),e.jsx(p,{name:"newSup",label:M,rules:d,required:!1,control:s,type:"text"})]}),e.jsx(k,{name:"retirementStatementDesc",label:P,control:s,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(F,{dir:"ltr",endIcon:e.jsx(U,{}),variant:"contained",type:"submit",loading:E,color:"success",children:e.jsx("span",{children:L})})})]})})},Te=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(G,{title:C,back:!0}),e.jsx(Z,{})]});export{Te as default};
