import{v as R,r as u,h as S,d as g,j as e,dn as C,a3 as o,a1 as h,a5 as y,a6 as I,aH as N,n as b,dp as D,aY as v,aK as O,dq as L}from"./index-22iEO3lt.js";import{i as P,j as w}from"./requestApi-VbUpJgqJ.js";import{D as A}from"./DoneOutlined-D1yVC61k.js";import{c as Q,S as _}from"./SelectInput-DNBvsqo2.js";import{T as F}from"./TextArea-DIRljnS5.js";import{T as U}from"./Title-BLyN--kQ.js";import"./react-select-animated.esm-BLoX3LIO.js";const B=()=>{const[n]=R(),[l,m]=u.useState([]),d=S(),p=n.get("role"),{data:r,isLoading:x,isSuccess:i}=P(p),[T,{isLoading:q}]=w(),{control:t,handleSubmit:f,formState:{errors:j}}=g();u.useEffect(()=>{if(i){const s=r.itemList,a=Q(s,"requestTypeID","name");m(a)}},[i,r]);const E=async s=>{var c;const a=await T({...s,requestTypeID:(c=s.requestTypeID)==null?void 0:c.value,requestFrom:1,nationalCode:v(s.nationalCode)}).unwrap();O.success(a.message),d("/retirement/cartable")};return e.jsx("section",{className:"formContainer flex-col",children:e.jsxs("form",{method:"POST",className:"flex-col",onSubmit:f(E),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(_,{name:"requestTypeID",control:t,label:C,required:!1,isClearable:!0,rules:o,errors:j,options:l,isLoading:x}),e.jsx(h,{name:"nationalCode",label:y,required:!0,control:t,rules:{...o,...I},type:"text"}),e.jsx(F,{name:"requestText",label:N,rules:o,required:!0,control:t,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(b,{dir:"ltr",endIcon:e.jsx(A,{}),variant:"contained",type:"submit",loading:q,color:"success",children:e.jsx("span",{children:D})})})]})})},J=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(U,{title:L,back:!0}),e.jsx(B,{})]});export{J as CreateRequest};
