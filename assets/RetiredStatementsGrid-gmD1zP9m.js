import{R as v,co as _,cp as $,cq as M,cr as z,j as e,f as p,cs as K,O,T as l,ct as h,L as I,cu as B,E as P,b3 as F,cw as G,I as T,B as U,C as q,b5 as k,cx as Q,r as m,U as V,z as W,b6 as Y,G as H,aF as J}from"./index-Cy9lM1pL.js";import{f as X,g as Z}from"./statementApi-CvAdPjwP.js";import{D as w}from"./DeleteOutline-BYX8P2BU.js";import{A as ee}from"./Add-B2qhu6KX.js";const te=a=>[{accessorKey:"retirementStatementRowNo",size:20,header:v,enableColumnActions:!1,enableSorting:!1},{accessorKey:"retirementStatementNo",size:20,header:_},{accessorKey:"retirementStatementSerial",size:20,header:$},{accessorKey:"retirementStatementTypeName",size:20,header:M},{accessorKey:"retirementStatementIssueDate",header:z,Cell:({renderedCellValue:t})=>e.jsx("div",{children:p(t)})},{accessorKey:"retirementStatementRunDate",header:K,Cell:({renderedCellValue:t})=>e.jsx("div",{children:p(t)})},{accessorKey:"observeRetirementStatement",header:O,enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:t})=>e.jsx(l,{title:`${h} ${t.original.retirementStatementSerial}`,children:e.jsx(I,{to:`${B}document/rstatement?statementID=${t.original.id}&personID=${t.original.personID}&personDeathDate=${t.original.personDeathDate}`,children:e.jsx(P,{color:"primary"})})})},{accessorKey:"deleteRetirementStatement",header:F,enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:t})=>e.jsx(l,{title:t.original.retirementStatementIssueConfirmDate?G:`${h} ${t.original.retirementStatementSerial}`,children:e.jsx("span",{children:e.jsx(T,{disabled:!!t.original.retirementStatementIssueConfirmDate,color:"error",onClick:()=>a(t.original.id),sx:{padding:"0"},children:e.jsx(w,{})})})})}],se=(a,t,r,o)=>e.jsx(U,{children:t||a?e.jsx(T,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(q,{size:20,value:100})}):e.jsx(l,{title:k,children:e.jsx(I,{to:`${Q}?personID=${r}&requestID=${o}`,children:e.jsx(ee,{fontSize:"small",color:"success"})})})}),me=({columns:a})=>{const[t,r]=m.useState([]),[o,i]=V(!1),[g,R]=m.useState(""),[c]=W(),d=c.get("personID"),f=c.get("requestID"),{data:S,isSuccess:D,isLoading:u,isFetching:E,refetch:x}=X({personID:d}),[C,{isLoading:j}]=Z();m.useEffect(()=>{if(D){const n=S.map((s,L)=>({id:s.retirementStatementID,retirementStatementRowNo:L+1,retirementStatementSerial:s.retirementStatementSerial,retirementStatementTypeName:s.retirementStatementTypeName,retirementStatementNo:s.retirementStatementNo||"-",retirementStatementIssueDate:s.retirementStatementIssueDate,retirementStatementRunDate:s.retirementStatementRunDate,retirementStatementIssueConfirmDate:s.retirementStatementIssueConfirmDate,personID:s.personID,personDeathDate:s.personDeathDate}));r(n)}},[D,S]);const A=n=>{R(n),i()},N=async()=>{const n=await C({rsID:g}).unwrap();J.success(n.message),x(),i()},b=te(A),y=se(u,E,d,f);return e.jsxs(e.Fragment,{children:[e.jsx(Y,{open:o,onClose:i,isLoading:j,handleRemove:N}),e.jsx(H,{data:t,columns:a||b,scroll:!0,topBarActions:y,isLoading:u,isFetching:E,sorting:[{id:"retirementStatementIssueDate",desc:!0}]})]})};export{me as R};
