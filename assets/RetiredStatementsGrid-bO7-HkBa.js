import{R as v,co as _,cp as M,cq as z,cr as $,j as e,f as T,cs as K,O,T as c,ct as R,L as f,cu as B,E as P,b3 as F,cw as G,I as h,B as U,C as q,b5 as k,cx as w,r as m,U as Q,z as V,b6 as W,G as Y,aF as H}from"./index-DXCdSF22.js";import{f as J,g as X}from"./statementApi-CK5Z6mj3.js";import{D as Z}from"./DeleteOutline-CnYtgzAi.js";import{A as ee}from"./Add-kJeSkpMy.js";const te=a=>[{accessorKey:"retirementStatementRowNo",size:20,header:v,enableColumnActions:!1,enableSorting:!1},{accessorKey:"retirementStatementNo",size:20,header:_},{accessorKey:"retirementStatementSerial",size:20,header:M},{accessorKey:"retirementStatementTypeName",size:20,header:z},{accessorKey:"retirementStatementIssueDate",header:$,Cell:({renderedCellValue:t})=>e.jsx("div",{children:T(t)})},{accessorKey:"retirementStatementRunDate",header:K,Cell:({renderedCellValue:t})=>e.jsx("div",{children:T(t)})},{accessorKey:"observeRetirementStatement",header:O,enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:t})=>e.jsx(c,{title:`${R} ${t.original.retirementStatementSerial}`,children:e.jsx(f,{to:`${B}document/rstatement?id=${t.original.id}`,children:e.jsx(P,{color:"primary"})})})},{accessorKey:"deleteRetirementStatement",header:F,enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:t})=>e.jsx(c,{title:t.original.retirementStatementIssueConfirmDate?G:`${R} ${t.original.retirementStatementSerial}`,children:e.jsx("span",{children:e.jsx(h,{disabled:!!t.original.retirementStatementIssueConfirmDate,color:"error",onClick:()=>a(t.original.id),sx:{padding:"0"},children:e.jsx(Z,{})})})})}],se=(a,t,r,o)=>e.jsx(U,{children:t||a?e.jsx(h,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(q,{size:20,value:100})}):e.jsx(c,{title:k,children:e.jsx(f,{to:`${w}?personID=${r}&requestID=${o}`,children:e.jsx(ee,{fontSize:"small",color:"success"})})})}),me=({columns:a})=>{const[t,r]=m.useState([]),[o,i]=Q(!1),[g,p]=m.useState(""),[l]=V(),d=l.get("personID"),I=l.get("requestID"),{data:S,isSuccess:u,isLoading:E,isFetching:D,refetch:x}=J({personID:d}),[C,{isLoading:j}]=X();m.useEffect(()=>{if(u){const n=S.map((s,L)=>({id:s.retirementStatementID,retirementStatementRowNo:L+1,retirementStatementSerial:s.retirementStatementSerial,retirementStatementTypeName:s.retirementStatementTypeName,retirementStatementNo:s.retirementStatementNo||"-",retirementStatementIssueDate:s.retirementStatementIssueDate,retirementStatementRunDate:s.retirementStatementRunDate,retirementStatementIssueConfirmDate:s.retirementStatementIssueConfirmDate}));r(n)}},[u,S]);const A=n=>{p(n),i()},N=async()=>{const n=await C({rsID:g}).unwrap();H.success(n.message),x(),i()},b=te(A),y=se(E,D,d,I);return e.jsxs(e.Fragment,{children:[e.jsx(W,{open:o,onClose:i,isLoading:j,handleRemove:N}),e.jsx(Y,{data:t,columns:a||b,scroll:!0,topBarActions:y,isLoading:E,isFetching:D,sorting:[{id:"retirementStatementIssueDate",desc:!0}]})]})};export{me as R};
