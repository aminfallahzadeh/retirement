import{r as t,A as F,cl as X,x as R,j as e,D as a,F as P,B as I,C as L,cm as B,cn as ee,S as l,bv as se,T as x,I as T,E as ne,H as w,P as $,J as E,K as M,M as G,N as U,Q,be as k,co as re}from"./index-Bjjox_it.js";import{a as J}from"./sharedApi-qsUX4CIh.js";import{f as ae,g as oe,h as le,i as ie}from"./useFetchLookUpData-DQr0L1xK.js";/* empty css                 */import{M as Z}from"./Modal-DcXR3qeM.js";import{D as te,$ as ce}from"./module-azLeeuBW.js";import{d as V}from"./table-options-nUCRl1AN.js";import{S as Y}from"./index-DA1J_l-1.js";import{R as W}from"./Refresh-ClQGx8IQ.js";import{R as de}from"./RetiredStatementsGrid-EeHacugl.js";import{T as he,a as me,b as K}from"./TabPanel-MQBRxxLE.js";import{T as xe}from"./Title-BBhp-6qg.js";import"./requestApi-CCBEwMPc.js";import"./react-select-animated.esm-DP_YiYte.js";import"./statementApi-1VXTCf63.js";import"./main-GpxRKVMe.js";import"./reactSelect-BGq5yAQc.js";import"./datePicker-XXmtGBIB.js";import"./DeleteOutline-j2YdfvyZ.js";import"./Add-LBM4fXwB.js";function fe(){const[o,p]=t.useState({}),[_,N]=t.useState(""),[n,y]=t.useState(""),i=F(),S=new URLSearchParams(i.search),b=S.get("personID"),z=S.get("personDeathDate"),{data:h,isSuccess:v,error:c}=X({personID:b});t.useEffect(()=>{v&&p(h==null?void 0:h.itemList[0])},[v,h==null?void 0:h.itemList]),t.useEffect(()=>{var s;c&&(console.log(c),R.error(((s=c==null?void 0:c.data)==null?void 0:s.message)||c.error,{autoClose:2e3}))},[c]);const{data:f,isSuccess:j}=J({lookUpType:"Gender",lookUpID:o==null?void 0:o.genderID}),{data:m,isSuccess:g}=J({lookUpType:"MaritialStatus",lookUpID:o==null?void 0:o.maritalStatusID});return t.useEffect(()=>{var s;g&&(((s=m==null?void 0:m.itemList)==null?void 0:s.length)>1?N(null):N(m.itemList[0].lookUpName))},[g,m==null?void 0:m.itemList]),t.useEffect(()=>{var s;j&&(((s=f==null?void 0:f.itemList)==null?void 0:s.length)>1?y(null):y(f.itemList[0].lookUpName))},[j,f==null?void 0:f.itemList]),e.jsx("section",{className:"formContainer",children:e.jsxs("form",{method:"POST",className:"grid grid--col-4",children:[e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"کد ملی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:a(o==null?void 0:o.personNationalCode)})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"شماره کارمندی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:a((o==null?void 0:o.personnelID)||"-")})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"نام"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:o==null?void 0:o.personFirstName})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"نام خانوادگی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:o==null?void 0:o.personLastName})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"شماره شناسنامه"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:a((o==null?void 0:o.personCertificateNo)||"-")})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"نام پدر"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:(o==null?void 0:o.personFatherName)||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"تاریخ تولد"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:P(o==null?void 0:o.personBirthDate)})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"محل تولد"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:(o==null?void 0:o.personBirthPlace)||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"جنسیت"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:n||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"وضعیت تاهل"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:_||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"مدرک تحصیلی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:(o==null?void 0:o.educationTypeCaption)||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"ورود به خدمت"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:P(o==null?void 0:o.employmentDate)||"-"})]})}),z!=="null"&&e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"تاریخ فوت"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:P(z)})]})})]})})}function je({statementID:o}){const p=t.useRef(),N=new URLSearchParams(location.search).get("personID"),[n,y]=t.useState(null),[i,S]=t.useState(null),[b,z]=t.useState([]),[h,v]=t.useState([]),[c,f]=t.useState([]),{data:j,isSuccess:m,isLoading:g,isFetching:r}=ae({personnelStatementID:o}),{data:s,isSuccess:C,isLoading:O,isFetching:H}=X({personID:N});return t.useEffect(()=>{var u;if(m){const q=((u=j==null?void 0:j.itemList[0])==null?void 0:u.retiredRecorded1.trim()).match(/.{1,2}/g);f(q),y(j.itemList[0]),z(j.itemList[0].personnelStatementItems)}},[m,j]),t.useEffect(()=>{if(C){S(s.itemList[0]);const u=P(s.itemList[0].personBirthDate).split("/");v(u)}},[C,s]),e.jsx(e.Fragment,{children:g||r||O||H||n===null||i===null?e.jsx(Z,{title:"در حال بارگذاری...",children:e.jsx(I,{sx:{display:"flex",justifyContent:"center",padding:"2rem 10rem"},children:e.jsx(L,{color:"primary"})})}):e.jsxs("div",{className:"slip-container",children:[e.jsxs("div",{className:"slip-container",ref:p,children:[e.jsxs("div",{className:"slip-container__personnel-statement-header",children:[e.jsx("p",{className:"slip-container__logo--sub",children:"شهرداری تهران"}),e.jsx("h5",{children:"حکم کارگزینی"}),e.jsxs("p",{className:"slip-container__qr--serial",children:["شماره سریال :",e.jsx("span",{children:a(n==null?void 0:n.personnelStatementSerial)||"-"})]})]}),e.jsxs("table",{className:"slip-container__personnel-statement-table form-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"no-border-left",children:"۱- شماره مستخدم : "}),e.jsx("th",{className:"no-border-right",children:a(n==null?void 0:n.personnelID)}),e.jsx("th",{className:"no-border-left",children:"۲- شماره ملی : "}),e.jsx("th",{className:"no-border-right",children:a(i==null?void 0:i.personNationalCode)||"-"}),e.jsx("th",{className:"no-border-left",children:"۳- کد پستی :"}),e.jsx("th",{className:"no-border-right",children:a(i==null?void 0:i.personPostalCode)||"-"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",children:"۴- نام :"}),e.jsx("td",{className:"no-border-right",children:i==null?void 0:i.personFirstName}),e.jsx("td",{className:"no-border-left",children:"۵- نام خانوادگی :"}),e.jsx("td",{className:"no-border-right",children:i==null?void 0:i.personLastName}),e.jsx("td",{className:"no-border-left",children:"۶- نام پدر :"}),e.jsx("td",{className:"no-border-right",children:i==null?void 0:i.personFatherName})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",children:"۷- شماره شناسنامه :"}),e.jsx("td",{className:"no-border-right",children:a(i==null?void 0:i.personCertificateNo)||"-"}),e.jsx("td",{className:"no-border-left",children:"۸- محل صدور :‌"}),e.jsx("td",{className:"no-border-right"}),e.jsx("td",{className:"no-border-left",children:"۹- استان :"}),e.jsx("td",{className:"no-border-right"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left no-border-bottom",colSpan:2,children:"۱۰- تاریخ و محل تولد :"}),e.jsx("td",{className:"no-border-right no-border-bottom",children:n==null?void 0:n.personBirthPlace}),e.jsx("td",{className:"no-border-bottom",colSpan:3,children:"۱۱- بالاترین مدرک و رشته تحصیلی‌ :"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"no-border-top no-border-left",children:["روز : ",h[2]]}),e.jsxs("td",{className:"no-border-top no-border-right no-border-left",children:["ماه : ",h[1]]}),e.jsxs("td",{className:"no-border-top no-border-right",children:["سال : ",h[0]]}),e.jsxs("td",{className:"no-border-top no-border-left",children:["مقطع تحصیلی : ",(n==null?void 0:n.educationLicence)||"-"]}),e.jsxs("td",{className:"no-border-top no-border-right no-border-left",children:["رشته : ",(n==null?void 0:n.eduBranch)||"-"]}),e.jsxs("td",{className:"no-border-top no-border-right",children:["گرایش : ",(n==null?void 0:n.eduBranchArea)||"-"]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,className:"no-border-left",children:"۱۲- عنوان پست سازمانی :"}),e.jsx("td",{className:"no-border-right no-border-left",children:(n==null?void 0:n.positionName)||"-"}),e.jsx("td",{className:"no-border-right"}),e.jsx("td",{className:"no-border-left",children:"شماره پست :"}),e.jsxs("td",{className:"no-border-right",children:[a(n==null?void 0:n.positionCode)||"-"," "]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",colSpan:2,children:"۱۳- رسته :"}),e.jsxs("td",{className:"no-border-left",colSpan:2,children:["رشته و طبفه شغلی : ",n==null?void 0:n.jobName]}),e.jsxs("td",{children:["کد شغل : ",(n==null?void 0:n.jobCode)||"-"]}),e.jsxs("td",{children:["مرتبه : ",(n==null?void 0:n.jobDegree1)||"-"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"۱۴- گروه :"}),e.jsxs("td",{colSpan:3,className:"no-border-left",children:["۱۵- سنوات فابل قبول از نظر بازنشستگی : ",e.jsx("br",{}),e.jsxs("div",{className:"w-full flex justify-between items-center px-10 mt-1",children:[e.jsxs("span",{children:["روز : ",a(c[2])]}),e.jsxs("span",{children:["ماه : ",a(c[1])]}),e.jsxs("span",{children:["سال : ",a(c[0])]})]})]}),e.jsxs("td",{colSpan:2,children:["صندوق بازنشستگی : ",n==null?void 0:n.payLocation]})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsxs("div",{className:"slip-container__person-info-table--checkbox",children:[e.jsx("span",{children:"۱۶- وضعیت ایثارگری :"}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsSacrificedFamily",id:"personIsSacrificedFamily",disabled:!0,sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsSacrificedFamily",children:"خانواده شهید"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsValiant",id:"personIsValiant",disabled:!0,sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsValiant",children:"جانباز"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsCaptive",disabled:!0,checked:i==null?void 0:i.isCaptivity,id:"personIsCaptive",sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsCaptive",children:"آزاده"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",disabled:!0,name:"personIsWarrior",id:"personIsWarrior",checked:i==null?void 0:i.isWar,sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsWarrior",children:"رزمنده"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsSacrificed",disabled:!0,checked:i==null?void 0:i.isMartyrs,id:"personIsSacrificed",sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsSacrificed",children:"سایر"})]})]})})}),e.jsxs("tr",{children:[e.jsxs("td",{colSpan:3,children:["۱۷- واحد سازمانی : ",n==null?void 0:n.organizationUnit]}),e.jsxs("td",{colSpan:3,children:["۱۸- محل خدمت : ",(n==null?void 0:n.workPlace)||"-"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",children:"۱۹- وضعیت تاهل :"}),e.jsx("td",{className:"no-border-right",children:n==null?void 0:n.maritalStatusIDName}),e.jsxs("td",{children:["تعداد فرزندان :"," ",a(n==null?void 0:n.childCount)]}),e.jsx("td",{colSpan:3,children:"۲۰- ضریب افزایش سنواتی :"})]}),e.jsxs("tr",{children:[e.jsxs("th",{colSpan:3,children:["۲۱- نوع حکم : ",(n==null?void 0:n.orderType)||"-"]}),e.jsx("th",{colSpan:3,children:"حقوق و فوق العاده ها به ریال :"})]})]})]}),e.jsxs("div",{className:"flex justify-center items-start w-full gap-x-1",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{style:{verticalAlign:"top"},children:"۲۲- شرح حکم :"})}),e.jsx("tr",{children:e.jsx("td",{children:(n==null?void 0:n.description)||"-"})})]})}),e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsxs("td",{children:["۲۳ - تاریخ اجرای حکم :"," ",P(n==null?void 0:n.personnelStatementRunDate)]})}),e.jsx("tr",{children:e.jsxs("td",{children:["ﺷﻤﺎﺭﻩ ﺣﮑﻢ :"," ",a(n==null?void 0:n.code)]})}),e.jsx("tr",{children:e.jsxs("td",{children:["۲۴- ﺗﺎﺭﯾﺦ ﺻﺪﻭﺭ ﺣﮑﻢ :"," ",P(n==null?void 0:n.registerDate)||"-"]})})]})})]}),e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[b==null?void 0:b.map((u,A)=>{const D=new ee(u.personnelStatementItemAmount.toString()).toSeparated();return e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top"},children:u.personnelStatementItemTypeName}),e.jsx("td",{className:"text-center",children:D})]},A)}),e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{children:"جمع مشمول کسور"}),e.jsx("td",{className:"text-center",children:l(a(n==null?void 0:n.fractionBaseAmount))})]})]})})]}),e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:6,children:"۲۵- ﺟﻤﻊ ﺣﻘﻮﻕ ﻭ ﻣﺰﺍﯾﺎ ﺑﻪ ﺣﺮﻭﻑ :"})}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"no-border-bottom",children:"۲۶- ﻧﺎﻡ ﻭ ﻧﺎﻡ ﺧﺎﻧﻮﺍﺩﮔﯽ ﻣﻘﺎﻡ ﻣﺴﺌﻮﻝ :"}),e.jsx("td",{colSpan:3,className:"no-border-bottom",children:"ﻧﺴﺨﻪ ﻣﺮﺑﻮﻁ ﺑﻪ :"})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"no-border-top",children:"ﻋﻨﻮﺍﻥ ﭘﺴﺖ ﺛﺎﺑﺖ ﺳﺎﺯﻣﺎﻧﯽ :"}),e.jsx("td",{colSpan:3,style:{justifyContent:"center",textAlign:"center"},className:"no-border-top"})]})]})}),e.jsx("p",{style:{textAlign:"right",fontSize:"12px",justifyContent:"right",width:"100%"},children:"ﮐﺎﺭﺑﺮ :"})]}),e.jsx("div",{style:{marginRight:"auto"},children:e.jsx(se,{dir:"ltr",endIcon:e.jsx(te,{}),onClick:()=>ce(p,{filename:"حکم کارمندی.pdf"}),variant:"contained",color:"primary",sx:{fontFamily:"IranYekan"},children:e.jsx("span",{children:"دانلود حکم"})})})]})})}function ue(){const[o,p]=t.useState(null),[_,N]=t.useState(!1),[n,y]=t.useState({}),[i,S]=t.useState([]),b=F(),h=new URLSearchParams(b.search).get("personID"),{data:v,isSuccess:c,isLoading:f,isFetching:j,refetch:m,error:g}=oe({personID:h}),r=()=>{m()};t.useEffect(()=>{if(c){const d=v.itemList.map((u,A)=>({id:u.personnelStatementID,personnelStatementRowNum:A+1,orderTypePersonnel:u.orderType,personnelStatementSerial:u.personnelStatementSerial,personnelStatementNumber:u.personnelStatementID,personnelStatementTypeName:u.personnelStatementTypeName,personnelStatementIssueDate:u.insertTime,personnelStatementRunDate:u.personnelStatementRunDate}));S(d)}},[c,v]),t.useEffect(()=>{var d;g&&(console.log(g),R.error(((d=g==null?void 0:g.data)==null?void 0:d.message)||g.error,{autoClose:2e3}))},[g]);const s=()=>{N(!0)},C=t.useMemo(()=>[{accessorKey:"personnelStatementRowNum",header:"ردیف",size:20,enableColumnActions:!1,enableSorting:!1,Cell:({renderedCellValue:d})=>e.jsx("div",{children:a(d)})},{accessorKey:"personnelStatementSerial",header:"سریال حکم",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:a(d)})},{accessorKey:"orderTypePersonnel",header:"نوع حکم",size:20},{accessorKey:"personnelStatementNumber",header:"شماره حکم",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:a(d)||"-"})},{accessorKey:"personnelStatementIssueDate",header:"تاریخ صدور",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:P(d)})},{accessorKey:"personnelStatementRunDate",header:"تاریخ اجرا",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:P(d)})},{accessorKey:"downloadStatement",header:"مشاهده",enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:d})=>e.jsx(x,{title:`سریال ${a(d.original.personnelStatementSerial)}`,children:e.jsx(T,{color:"primary",sx:{padding:"0"},onClick:s,children:e.jsx(ne,{})})})}],[]),O=w({...V,columns:C,data:i,muiTableBodyRowProps:({row:d})=>({onClick:()=>y(()=>({[d.id]:!0})),selected:n[d.id],sx:{cursor:"pointer"}}),renderTopToolbarCustomActions:()=>e.jsx(I,{children:j?e.jsx(T,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(L,{size:20,value:100})}):e.jsx(x,{title:"بروز رسانی",children:e.jsx("span",{children:e.jsx(T,{"aria-label":"refresh",color:"info",onClick:r,children:e.jsx(W,{fontSize:"small"})})})})}),muiPaginationProps:{size:"small",shape:"rounded",showRowsPerPage:!1,renderItem:d=>e.jsx($,{...d,page:a(d.page),slots:{previous:E,next:M,first:G,last:U}})},getRowId:d=>d.id,onRowSelectionChange:y,state:{rowSelection:n}});return t.useEffect(()=>{const d=Object.keys(O.getState().rowSelection)[0];d&&p(d)},[O,n]),e.jsx(e.Fragment,{children:f?e.jsx("div",{className:"skeleton-lg",children:e.jsx(Y,{count:5,baseColor:"#dfdfdf",highlightColor:"#9f9f9f",duration:1,direction:"rtl"})}):e.jsxs(e.Fragment,{children:[_&&o?e.jsx(Z,{closeModal:()=>N(!1),children:e.jsx(je,{statementID:o})}):null,e.jsx(Q,{table:O})]})})}const pe=()=>{const[o,p]=t.useState({}),[_,N]=t.useState([]),n=F(),i=new URLSearchParams(n.search).get("personID"),{data:S,isSuccess:b,isLoading:z,isFetching:h,refetch:v,error:c}=le({personID:i}),f=()=>{v()};t.useEffect(()=>{if(b){const r=S.itemList.map(s=>({fractionYear:s.years??"-",chestName:s.chestName??"-",fractiontypeName:s.fractiontypeName??"-",fractionOrganization:s.organizationName??"-",farv:s.fractionTotalAmount1??"-",farvPersonnel:s.fractionPersonnelTotalAmount1??"-",farvOrganization:s.fractionOrganizationTotalAmount1??"-",ordib:s.fractionTotalAmount2??"-",ordibPersonnel:s.fractionPersonnelTotalAmount2??"-",ordibOrganization:s.fractionOrganizationTotalAmount2??"-",khord:s.fractionTotalAmount3??"-",khordPersonnel:s.fractionPersonnelTotalAmount3??"-",khordOrganization:s.fractionOrganizationTotalAmount3??"-",tir:s.fractionTotalAmount4??"-",tirPersonnel:s.fractionPersonnelTotalAmount4??"-",tirOrganization:s.fractionOrganizationTotalAmount4??"-",mordad:s.fractionTotalAmount5??"-",mordadPersonnel:s.fractionPersonnelTotalAmount5??"-",mordadOrganization:s.fractionOrganizationTotalAmount5??"-",shah:s.fractionTotalAmount6??"-",shahPersonnel:s.fractionPersonnelTotalAmount6??"-",shahOrganization:s.fractionOrganizationTotalAmount6??"-",mehr:s.fractionTotalAmount7??"-",mehrPersonnel:s.fractionPersonnelTotalAmount7??"-",mehrOrganization:s.fractionOrganizationTotalAmount7??"-",aban:s.fractionTotalAmount8??"-",abanPersonnel:s.fractionPersonnelTotalAmount8??"-",abanOrganization:s.fractionOrganizationTotalAmount8??"-",azar:s.fractionTotalAmount9??"-",azarPersonnel:s.fractionPersonnelTotalAmount9??"-",azarOrganization:s.fractionOrganizationTotalAmount9??"-",dey:s.fractionTotalAmount10??"-",deyPersonnel:s.fractionPersonnelTotalAmount10??"-",deyOrganization:s.fractionOrganizationTotalAmount10??"-",bahman:s.fractionTotalAmount11??"-",bahmanPersonnel:s.fractionPersonnelTotalAmount11??"-",bahmanOrganization:s.fractionOrganizationTotalAmount11??"-",esfand:s.fractionTotalAmount12??"-",esfandPersonnel:s.fractionPersonnelTotalAmount12??"-",esfandOrganization:s.fractionOrganizationTotalAmount12??"-"}));N(r)}},[b,S]),t.useEffect(()=>{var r;c&&(console.log(c),R.error(((r=c==null?void 0:c.data)==null?void 0:r.message)||c.error,{autoClose:2e3}))},[c]);const j=t.useMemo(()=>[{accessorKey:"fractionYear",header:"سال",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"fractiontypeName",header:"نوع سابقه",size:20},{accessorKey:"chestName",header:"نام صندوق",size:20},{accessorKey:"fractionOrganization",header:"سازمان",size:20},{accessorKey:"farv",header:"فروردین",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.farvOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.farvPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"ordib",header:"اردیبهشت",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.ordibOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.ordibPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"khord",header:"خرداد",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.khordOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.khordPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"tir",header:"تیر",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.tirOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.tirPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"mordad",header:"مرداد",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.mordadOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.mordadPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"shah",header:"شهریور",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.shahOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.shahPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"mehr",header:"مهر",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.mehrOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.mehrPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"aban",header:"آبان",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.abanOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.abanPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"azar",header:"آذر",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.azarOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.azarPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"dey",header:"دی",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.deyOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.deyPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"bahman",header:"بهمن",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.bahmanOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.bahmanPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})},{accessorKey:"esfand",header:"اسفند",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(x,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${l(a(s.original.esfandOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${l(a(s.original.esfandPersonnel))}`]}),children:e.jsx("div",{children:l(a(r))})})}],[]),m=w({...V,columns:j,data:_,muiTableBodyRowProps:({row:r})=>({onClick:()=>p(()=>({[r.id]:!0})),selected:o[r.id],sx:{cursor:"pointer"}}),renderTopToolbarCustomActions:()=>e.jsx(I,{children:h?e.jsx(T,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(L,{size:20,value:100})}):e.jsx(x,{title:"بروز رسانی",children:e.jsx("span",{children:e.jsx(T,{"aria-label":"refresh",color:"info",onClick:f,children:e.jsx(W,{fontSize:"small"})})})})}),muiPaginationProps:{size:"small",shape:"rounded",showRowsPerPage:!1,renderItem:r=>e.jsx($,{...r,page:a(r.page),slots:{previous:E,next:M,first:G,last:U}})},getRowId:r=>r.id,onRowSelectionChange:p,state:{rowSelection:o}});return e.jsx(e.Fragment,{children:z?e.jsx("div",{className:"skeleton-lg",children:e.jsx(Y,{count:5,baseColor:"#dfdfdf",highlightColor:"#9f9f9f",duration:1,direction:"rtl"})}):e.jsx(Q,{table:m})})};function ge(){const[o,p]=t.useState({}),[_,N]=t.useState([]),n=F(),i=new URLSearchParams(n.search).get("personID"),{data:S,isSuccess:b,isLoading:z,isFetching:h,refetch:v,error:c}=ie({personID:i}),f=()=>{v()};t.useEffect(()=>{if(b){const r=S.itemList.map((s,C)=>({rowNum:C+1,personnelStatementOffTypeName:s.personnelStatementOffTypeName,personnelStatementOffYear:s.personnelStatementOffYear,personnelStatementOffMonth:s.personnelStatementOffMonth,personnelStatementOffDay:s.personnelStatementOffDay}));N(r)}},[b,S]),t.useEffect(()=>{var r;c&&(console.log(c),R.error(((r=c==null?void 0:c.data)==null?void 0:r.message)||c.error,{autoClose:2e3}))},[c]);const j=t.useMemo(()=>[{accessorKey:"rowNum",header:"ردیف",enableSorting:!1,enableColumnActions:!1,size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"personnelStatementOffTypeName",header:"نوع خدمت",size:20},{accessorKey:"personnelStatementOffYear",header:"سال",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"personnelStatementOffMonth",header:"ماه",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"personnelStatementOffDay",header:"روز",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"reaclTotal",header:"جمع واقعی",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"total",header:"جمع",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})}],[]),m=w({...V,columns:j,data:_,muiTableBodyRowProps:({row:r})=>({onClick:()=>p(()=>({[r.id]:!0})),selected:o[r.id],sx:{cursor:"pointer"}}),renderTopToolbarCustomActions:()=>e.jsx(I,{children:h?e.jsx(T,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(L,{size:20,value:100})}):e.jsx(x,{title:"بروز رسانی",children:e.jsx("span",{children:e.jsx(T,{"aria-label":"refresh",color:"info",onClick:f,children:e.jsx(W,{fontSize:"small"})})})})}),muiPaginationProps:{size:"small",shape:"rounded",showRowsPerPage:!1,renderItem:r=>e.jsx($,{...r,page:a(r.page),slots:{previous:E,next:M,first:G,last:U}})},getRowId:r=>r.id,onRowSelectionChange:p,state:{rowSelection:o}});return e.jsx(e.Fragment,{children:z?e.jsx("div",{className:"skeleton-lg",children:e.jsx(Y,{count:5,baseColor:"#dfdfdf",highlightColor:"#9f9f9f",duration:1,direction:"rtl"})}):e.jsx(Q,{table:m})})}function be(){const[o,p]=t.useState("1"),_=(n,y)=>{p(y)};return e.jsx("section",{className:"u-margin-top-lg",children:e.jsxs(he,{value:o,children:[e.jsx(I,{sx:{bgcolor:"background.paper",borderRadius:1},children:e.jsxs(me,{onChange:_,"aria-label":"tabs",variant:"fullWidth",children:[e.jsx(k,{label:"احکام کارمندی",value:"1"}),e.jsx(k,{label:"تعرفه",value:"2"}),e.jsx(k,{label:"احکام بازنشستگی",value:"3"})]})}),e.jsx(K,{value:"1",sx:{padding:"0"},children:e.jsx(ue,{})}),e.jsx(K,{value:"2",sx:{padding:"0"},children:e.jsxs("div",{className:"flex-col",children:[e.jsx(ge,{}),e.jsx(pe,{})]})}),e.jsx(K,{value:"3",sx:{padding:"0"},children:e.jsx(de,{})})]})})}function Ee(){return e.jsxs("section",{className:"flex-col u-margin-bottom-md",children:[e.jsx(xe,{title:re,back:!0}),e.jsx(fe,{}),e.jsx(be,{})]})}export{Ee as default};
