import{z as R,r as n,m as b,h as N,j as e,b as y,M as r,J as I,P as A,Q as v,as as D,t as L,at as F,dE as O,aL as w,aw as P,dF as Q}from"./index-CRad3sE9.js";import{b as _,c as B}from"./requestApi-P45rVSbr.js";import{c as U,S as M}from"./SelectInput-CClIbL5j.js";import{T as k}from"./TextArea-DifUInWp.js";import{T as z}from"./Title-CaQy3AJ8.js";import"./react-select-animated.esm-DA9BtmsI.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";const d=["6E7BA26E-A1DC-4A5E-9700-17820A36158D","62A54585-F331-434A-9027-C9F3060F683A"],G=()=>{const[i]=R(),[p,x]=n.useState([]),f=b(),E=i.get("role"),{data:c,isLoading:T,isSuccess:u}=_(E),[q,{isLoading:g}]=B(),{control:a,handleSubmit:C,formState:{errors:S},watch:j,unregister:l}=N(),s=j("requestTypeID");n.useEffect(()=>{if(u){const t=c.itemList,o=U(t,"requestTypeID","name");x(o)}},[u,c]);const h=async t=>{var m;console.log(t);const o=await q({...t,requestTypeID:(m=t.requestTypeID)==null?void 0:m.value,requestFrom:1,nationalCode:w(t.nationalCode)}).unwrap();P.success(o.message),f("/retirement/cartable")};return n.useEffect(()=>{s&&d.includes(s==null?void 0:s.value)&&l("nationalCode")},[s,l]),e.jsx("section",{className:"formContainer flex-col",children:e.jsxs("form",{method:"POST",className:"flex-col",onSubmit:C(h),noValidate:!0,children:[e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsx(M,{name:"requestTypeID",control:a,label:y,required:!1,isClearable:!0,rules:r,errors:S,options:p,isLoading:T}),!d.includes(s==null?void 0:s.value)&&e.jsx(I,{name:"nationalCode",label:A,required:!0,control:a,rules:{...r,...v},type:"text"}),e.jsx(k,{name:"requestText",label:D,rules:r,required:!0,control:a,containerClassNames:"col-span-4 row-span-2"})]}),e.jsx("div",{className:"flex-row mr-auto",children:e.jsx(L,{dir:"ltr",endIcon:e.jsx(F,{}),variant:"contained",type:"submit",loading:g,color:"success",children:e.jsx("span",{children:O})})})]})})},ee=()=>e.jsxs("section",{className:"flex-col",children:[e.jsx(z,{title:Q,back:!0}),e.jsx(G,{})]});export{ee as CreateRequest};
