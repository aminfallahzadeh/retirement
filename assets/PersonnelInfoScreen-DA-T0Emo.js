import{r as t,U as F,ci as X,q as R,j as e,x as a,y as P,B as I,C as k,Z as B,cj as ee,Y as o,X as se,T as m,I as C,E as ne,z as K,P as $,A as E,D as M,F as G,J as U,M as Y,bg as L,v as re,h as ae,ck as le,bS as oe}from"./index-BPjZc6sq.js";import{a as J}from"./sharedApi-_iv2uOEQ.js";import{g as ie,h as te,i as ce,j as de}from"./useFetchLookUpData-BKVdRAfl.js";/* empty css                 */import{M as Z}from"./Modal-BtasbOHR.js";import{D as he,$ as me}from"./module-CndzTMl3.js";import{d as Q}from"./table-options-sEZ_KBnu.js";import{S as V}from"./index-BjGLfXo8.js";import{R as W}from"./Refresh-D2T9dkVK.js";import{R as xe}from"./RetiredStatementsGrid-CULYesU7.js";import{T as fe,a as je,b as w}from"./TabPanel-o0DtFSNR.js";import"./requestApi-BpK3YUW1.js";import"./react-select-animated.esm-Bbuff8x3.js";import"./statementApi-DLvOFWXA.js";import"./main-BsyPG4t3.js";import"./reactSelect-BGq5yAQc.js";import"./datePicker-XXmtGBIB.js";import"./DeleteOutline-BPvGJLtX.js";import"./Add-DvwZAUjH.js";function ue(){const[l,h]=t.useState({}),[p,y]=t.useState(""),[n,v]=t.useState(""),i=F(),N=new URLSearchParams(i.search),S=N.get("personID"),z=N.get("personDeathDate"),{data:x,isSuccess:_,error:c}=X({personID:S});t.useEffect(()=>{_&&h(x==null?void 0:x.itemList[0])},[_,x==null?void 0:x.itemList]),t.useEffect(()=>{var s;c&&(console.log(c),R.error(((s=c==null?void 0:c.data)==null?void 0:s.message)||c.error,{autoClose:2e3}))},[c]);const{data:j,isSuccess:u}=J({lookUpType:"Gender",lookUpID:l==null?void 0:l.genderID}),{data:f,isSuccess:g}=J({lookUpType:"MaritialStatus",lookUpID:l==null?void 0:l.maritalStatusID});return t.useEffect(()=>{var s;g&&(((s=f==null?void 0:f.itemList)==null?void 0:s.length)>1?y(null):y(f.itemList[0].lookUpName))},[g,f==null?void 0:f.itemList]),t.useEffect(()=>{var s;u&&(((s=j==null?void 0:j.itemList)==null?void 0:s.length)>1?v(null):v(j.itemList[0].lookUpName))},[u,j==null?void 0:j.itemList]),e.jsx("section",{className:"formContainer",children:e.jsxs("form",{method:"POST",className:"grid grid--col-4",children:[e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"کد ملی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:a(l==null?void 0:l.personNationalCode)})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"شماره کارمندی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:a((l==null?void 0:l.personnelID)||"-")})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"نام"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:l==null?void 0:l.personFirstName})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"نام خانوادگی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:l==null?void 0:l.personLastName})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"شماره شناسنامه"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:a((l==null?void 0:l.personCertificateNo)||"-")})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"نام پدر"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:(l==null?void 0:l.personFatherName)||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"تاریخ تولد"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:P(l==null?void 0:l.personBirthDate)})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"محل تولد"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:(l==null?void 0:l.personBirthPlace)||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"جنسیت"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:n||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"وضعیت تاهل"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:p||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"مدرک تحصیلی"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:(l==null?void 0:l.educationTypeCaption)||"-"})]})}),e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"ورود به خدمت"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:P(l==null?void 0:l.employmentDate)||"-"})]})}),z!=="null"&&e.jsx("div",{className:"inputBox__form",children:e.jsxs("div",{className:"inputBox__form--readOnly-input",children:[e.jsx("div",{className:"inputBox__form--readOnly-label",children:"تاریخ فوت"}),e.jsx("div",{className:"inputBox__form--readOnly-content",children:P(z)})]})})]})})}function pe({statementID:l}){const h=t.useRef(),y=new URLSearchParams(location.search).get("personID"),[n,v]=t.useState(null),[i,N]=t.useState(null),[S,z]=t.useState([]),[x,_]=t.useState([]),[c,j]=t.useState([]),{data:u,isSuccess:f,isLoading:g,isFetching:r}=ie({personnelStatementID:l}),{data:s,isSuccess:T,isLoading:O,isFetching:q}=X({personID:y});return t.useEffect(()=>{var b;if(f){const H=((b=u==null?void 0:u.itemList[0])==null?void 0:b.retiredRecorded1.trim()).match(/.{1,2}/g);j(H),v(u.itemList[0]),z(u.itemList[0].personnelStatementItems)}},[f,u]),t.useEffect(()=>{if(T){N(s.itemList[0]);const b=P(s.itemList[0].personBirthDate).split("/");_(b)}},[T,s]),e.jsx(e.Fragment,{children:g||r||O||q||n===null||i===null?e.jsx(Z,{title:"در حال بارگذاری...",children:e.jsx(I,{sx:{display:"flex",justifyContent:"center",padding:"2rem 10rem"},children:e.jsx(k,{color:"primary"})})}):e.jsxs("div",{className:"slip-container",children:[e.jsxs("div",{className:"slip-container",ref:h,children:[e.jsxs("div",{className:"slip-container__personnel-statement-header",children:[e.jsx("p",{className:"slip-container__logo--sub",children:"شهرداری تهران"}),e.jsx("h5",{children:"حکم کارگزینی"}),e.jsxs("p",{className:"slip-container__qr--serial",children:["شماره سریال :",e.jsx("span",{children:a(n==null?void 0:n.personnelStatementSerial)||"-"})]})]}),e.jsxs("table",{className:"slip-container__personnel-statement-table form-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"no-border-left",children:"۱- شماره مستخدم : "}),e.jsx("th",{className:"no-border-right",children:a(n==null?void 0:n.personnelID)}),e.jsx("th",{className:"no-border-left",children:"۲- شماره ملی : "}),e.jsx("th",{className:"no-border-right",children:a(i==null?void 0:i.personNationalCode)||"-"}),e.jsx("th",{className:"no-border-left",children:"۳- کد پستی :"}),e.jsx("th",{className:"no-border-right",children:a(i==null?void 0:i.personPostalCode)||"-"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",children:"۴- نام :"}),e.jsx("td",{className:"no-border-right",children:i==null?void 0:i.personFirstName}),e.jsx("td",{className:"no-border-left",children:"۵- نام خانوادگی :"}),e.jsx("td",{className:"no-border-right",children:i==null?void 0:i.personLastName}),e.jsx("td",{className:"no-border-left",children:"۶- نام پدر :"}),e.jsx("td",{className:"no-border-right",children:i==null?void 0:i.personFatherName})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",children:"۷- شماره شناسنامه :"}),e.jsx("td",{className:"no-border-right",children:a(i==null?void 0:i.personCertificateNo)||"-"}),e.jsx("td",{className:"no-border-left",children:"۸- محل صدور :‌"}),e.jsx("td",{className:"no-border-right"}),e.jsx("td",{className:"no-border-left",children:"۹- استان :"}),e.jsx("td",{className:"no-border-right"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left no-border-bottom",colSpan:2,children:"۱۰- تاریخ و محل تولد :"}),e.jsx("td",{className:"no-border-right no-border-bottom",children:n==null?void 0:n.personBirthPlace}),e.jsx("td",{className:"no-border-bottom",colSpan:3,children:"۱۱- بالاترین مدرک و رشته تحصیلی‌ :"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"no-border-top no-border-left",children:["روز : ",x[2]]}),e.jsxs("td",{className:"no-border-top no-border-right no-border-left",children:["ماه : ",x[1]]}),e.jsxs("td",{className:"no-border-top no-border-right",children:["سال : ",x[0]]}),e.jsxs("td",{className:"no-border-top no-border-left",children:["مقطع تحصیلی : ",(n==null?void 0:n.educationLicence)||"-"]}),e.jsxs("td",{className:"no-border-top no-border-right no-border-left",children:["رشته : ",(n==null?void 0:n.eduBranch)||"-"]}),e.jsxs("td",{className:"no-border-top no-border-right",children:["گرایش : ",(n==null?void 0:n.eduBranchArea)||"-"]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,className:"no-border-left",children:"۱۲- عنوان پست سازمانی :"}),e.jsx("td",{className:"no-border-right no-border-left",children:(n==null?void 0:n.positionName)||"-"}),e.jsx("td",{className:"no-border-right"}),e.jsx("td",{className:"no-border-left",children:"شماره پست :"}),e.jsxs("td",{className:"no-border-right",children:[a(n==null?void 0:n.positionCode)||"-"," "]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",colSpan:2,children:"۱۳- رسته :"}),e.jsxs("td",{className:"no-border-left",colSpan:2,children:["رشته و طبفه شغلی : ",n==null?void 0:n.jobName]}),e.jsxs("td",{children:["کد شغل : ",(n==null?void 0:n.jobCode)||"-"]}),e.jsxs("td",{children:["مرتبه : ",(n==null?void 0:n.jobDegree1)||"-"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"۱۴- گروه :"}),e.jsxs("td",{colSpan:3,className:"no-border-left",children:["۱۵- سنوات فابل قبول از نظر بازنشستگی : ",e.jsx("br",{}),e.jsxs("div",{className:"w-full flex justify-between items-center px-10 mt-1",children:[e.jsxs("span",{children:["روز : ",a(c[2])]}),e.jsxs("span",{children:["ماه : ",a(c[1])]}),e.jsxs("span",{children:["سال : ",a(c[0])]})]})]}),e.jsxs("td",{colSpan:2,children:["صندوق بازنشستگی : ",n==null?void 0:n.payLocation]})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsxs("div",{className:"slip-container__person-info-table--checkbox",children:[e.jsx("span",{children:"۱۶- وضعیت ایثارگری :"}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsSacrificedFamily",id:"personIsSacrificedFamily",disabled:!0,sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsSacrificedFamily",children:"خانواده شهید"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsValiant",id:"personIsValiant",disabled:!0,sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsValiant",children:"جانباز"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsCaptive",disabled:!0,checked:i==null?void 0:i.isCaptivity,id:"personIsCaptive",sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsCaptive",children:"آزاده"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",disabled:!0,name:"personIsWarrior",id:"personIsWarrior",checked:i==null?void 0:i.isWar,sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsWarrior",children:"رزمنده"})]}),e.jsxs("div",{children:[e.jsx(B,{size:"small",color:"success",name:"personIsSacrificed",disabled:!0,checked:i==null?void 0:i.isMartyrs,id:"personIsSacrificed",sx:{padding:.5}}),e.jsx("label",{htmlFor:"personIsSacrificed",children:"سایر"})]})]})})}),e.jsxs("tr",{children:[e.jsxs("td",{colSpan:3,children:["۱۷- واحد سازمانی : ",n==null?void 0:n.organizationUnit]}),e.jsxs("td",{colSpan:3,children:["۱۸- محل خدمت : ",(n==null?void 0:n.workPlace)||"-"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"no-border-left",children:"۱۹- وضعیت تاهل :"}),e.jsx("td",{className:"no-border-right",children:n==null?void 0:n.maritalStatusIDName}),e.jsxs("td",{children:["تعداد فرزندان :"," ",a(n==null?void 0:n.childCount)]}),e.jsx("td",{colSpan:3,children:"۲۰- ضریب افزایش سنواتی :"})]}),e.jsxs("tr",{children:[e.jsxs("th",{colSpan:3,children:["۲۱- نوع حکم : ",(n==null?void 0:n.orderType)||"-"]}),e.jsx("th",{colSpan:3,children:"حقوق و فوق العاده ها به ریال :"})]})]})]}),e.jsxs("div",{className:"flex justify-center items-start w-full gap-x-1",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{style:{verticalAlign:"top"},children:"۲۲- شرح حکم :"})}),e.jsx("tr",{children:e.jsx("td",{children:(n==null?void 0:n.description)||"-"})})]})}),e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsxs("td",{children:["۲۳ - تاریخ اجرای حکم :"," ",P(n==null?void 0:n.personnelStatementRunDate)]})}),e.jsx("tr",{children:e.jsxs("td",{children:["ﺷﻤﺎﺭﻩ ﺣﮑﻢ :"," ",a(n==null?void 0:n.code)]})}),e.jsx("tr",{children:e.jsxs("td",{children:["۲۴- ﺗﺎﺭﯾﺦ ﺻﺪﻭﺭ ﺣﮑﻢ :"," ",P(n==null?void 0:n.registerDate)||"-"]})})]})})]}),e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[S==null?void 0:S.map((b,A)=>{const D=new ee(b.personnelStatementItemAmount.toString()).toSeparated();return e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top"},children:b.personnelStatementItemTypeName}),e.jsx("td",{className:"text-center",children:D})]},A)}),e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{children:"جمع مشمول کسور"}),e.jsx("td",{className:"text-center",children:o(a(n==null?void 0:n.fractionBaseAmount))})]})]})})]}),e.jsx("table",{className:"slip-container__personnel-statement-table form-table",children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:6,children:"۲۵- ﺟﻤﻊ ﺣﻘﻮﻕ ﻭ ﻣﺰﺍﯾﺎ ﺑﻪ ﺣﺮﻭﻑ :"})}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"no-border-bottom",children:"۲۶- ﻧﺎﻡ ﻭ ﻧﺎﻡ ﺧﺎﻧﻮﺍﺩﮔﯽ ﻣﻘﺎﻡ ﻣﺴﺌﻮﻝ :"}),e.jsx("td",{colSpan:3,className:"no-border-bottom",children:"ﻧﺴﺨﻪ ﻣﺮﺑﻮﻁ ﺑﻪ :"})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"no-border-top",children:"ﻋﻨﻮﺍﻥ ﭘﺴﺖ ﺛﺎﺑﺖ ﺳﺎﺯﻣﺎﻧﯽ :"}),e.jsx("td",{colSpan:3,style:{justifyContent:"center",textAlign:"center"},className:"no-border-top"})]})]})}),e.jsx("p",{style:{textAlign:"right",fontSize:"12px",justifyContent:"right",width:"100%"},children:"ﮐﺎﺭﺑﺮ :"})]}),e.jsx("div",{style:{marginRight:"auto"},children:e.jsx(se,{dir:"ltr",endIcon:e.jsx(he,{}),onClick:()=>me(h,{filename:"حکم کارمندی.pdf"}),variant:"contained",color:"primary",sx:{fontFamily:"IranYekan"},children:e.jsx("span",{children:"دانلود حکم"})})})]})})}function ge(){const[l,h]=t.useState(null),[p,y]=t.useState(!1),[n,v]=t.useState({}),[i,N]=t.useState([]),S=F(),x=new URLSearchParams(S.search).get("personID"),{data:_,isSuccess:c,isLoading:j,isFetching:u,refetch:f,error:g}=te({personID:x}),r=()=>{f()};t.useEffect(()=>{if(c){const d=_.itemList.map((b,A)=>({id:b.personnelStatementID,personnelStatementRowNum:A+1,personnelStatementSerial:b.personnelStatementSerial,personnelStatementNumber:b.personnelStatementID,personnelStatementTypeName:b.personnelStatementTypeName,personnelStatementIssueDate:b.insertTime,personnelStatementRunDate:b.personnelStatementRunDate}));N(d)}},[c,_]),t.useEffect(()=>{var d;g&&(console.log(g),R.error(((d=g==null?void 0:g.data)==null?void 0:d.message)||g.error,{autoClose:2e3}))},[g]);const s=()=>{y(!0)},T=t.useMemo(()=>[{accessorKey:"personnelStatementRowNum",header:"ردیف",size:20,enableColumnActions:!1,enableSorting:!1,Cell:({renderedCellValue:d})=>e.jsx("div",{children:a(d)})},{accessorKey:"personnelStatementTypeName",header:"نوع حکم",size:20},{accessorKey:"personnelStatementSerial",header:"سریال حکم",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:a(d)})},{accessorKey:"personnelStatementNumber",header:"شماره حکم",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:a(d)||"-"})},{accessorKey:"personnelStatementIssueDate",header:"تاریخ صدور",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:P(d)})},{accessorKey:"personnelStatementRunDate",header:"تاریخ اجرا",size:20,Cell:({renderedCellValue:d})=>e.jsx("div",{children:P(d)})},{accessorKey:"downloadStatement",header:"مشاهده",enableSorting:!1,enableColumnActions:!1,size:20,Cell:({row:d})=>e.jsx(m,{title:`سریال ${a(d.original.personnelStatementSerial)}`,children:e.jsx(C,{color:"primary",sx:{padding:"0"},onClick:s,children:e.jsx(ne,{})})})}],[]),O=K({...Q,columns:T,data:i,muiTableBodyRowProps:({row:d})=>({onClick:()=>v(()=>({[d.id]:!0})),selected:n[d.id],sx:{cursor:"pointer"}}),renderTopToolbarCustomActions:()=>e.jsx(I,{children:u?e.jsx(C,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(k,{size:20,value:100})}):e.jsx(m,{title:"بروز رسانی",children:e.jsx("span",{children:e.jsx(C,{"aria-label":"refresh",color:"info",onClick:r,children:e.jsx(W,{fontSize:"small"})})})})}),muiPaginationProps:{size:"small",shape:"rounded",showRowsPerPage:!1,renderItem:d=>e.jsx($,{...d,page:a(d.page),slots:{previous:E,next:M,first:G,last:U}})},getRowId:d=>d.id,onRowSelectionChange:v,state:{rowSelection:n}});return t.useEffect(()=>{const d=Object.keys(O.getState().rowSelection)[0];d&&h(d)},[O,n]),e.jsx(e.Fragment,{children:j?e.jsx("div",{className:"skeleton-lg",children:e.jsx(V,{count:5,baseColor:"#dfdfdf",highlightColor:"#9f9f9f",duration:1,direction:"rtl"})}):e.jsxs(e.Fragment,{children:[p&&l?e.jsx(Z,{closeModal:()=>y(!1),children:e.jsx(pe,{statementID:l})}):null,e.jsx(Y,{table:O})]})})}const be=()=>{const[l,h]=t.useState({}),[p,y]=t.useState([]),n=F(),i=new URLSearchParams(n.search).get("personID"),{data:N,isSuccess:S,isLoading:z,isFetching:x,refetch:_,error:c}=ce({personID:i}),j=()=>{_()};t.useEffect(()=>{if(S){const r=N.itemList.map(s=>({fractionYear:s.years??"-",chestName:s.chestName??"-",fractiontypeName:s.fractiontypeName??"-",fractionOrganization:s.organizationName??"-",farv:s.fractionTotalAmount1??"-",farvPersonnel:s.fractionPersonnelTotalAmount1??"-",farvOrganization:s.fractionOrganizationTotalAmount1??"-",ordib:s.fractionTotalAmount2??"-",ordibPersonnel:s.fractionPersonnelTotalAmount2??"-",ordibOrganization:s.fractionOrganizationTotalAmount2??"-",khord:s.fractionTotalAmount3??"-",khordPersonnel:s.fractionPersonnelTotalAmount3??"-",khordOrganization:s.fractionOrganizationTotalAmount3??"-",tir:s.fractionTotalAmount4??"-",tirPersonnel:s.fractionPersonnelTotalAmount4??"-",tirOrganization:s.fractionOrganizationTotalAmount4??"-",mordad:s.fractionTotalAmount5??"-",mordadPersonnel:s.fractionPersonnelTotalAmount5??"-",mordadOrganization:s.fractionOrganizationTotalAmount5??"-",shah:s.fractionTotalAmount6??"-",shahPersonnel:s.fractionPersonnelTotalAmount6??"-",shahOrganization:s.fractionOrganizationTotalAmount6??"-",mehr:s.fractionTotalAmount7??"-",mehrPersonnel:s.fractionPersonnelTotalAmount7??"-",mehrOrganization:s.fractionOrganizationTotalAmount7??"-",aban:s.fractionTotalAmount8??"-",abanPersonnel:s.fractionPersonnelTotalAmount8??"-",abanOrganization:s.fractionOrganizationTotalAmount8??"-",azar:s.fractionTotalAmount9??"-",azarPersonnel:s.fractionPersonnelTotalAmount9??"-",azarOrganization:s.fractionOrganizationTotalAmount9??"-",dey:s.fractionTotalAmount10??"-",deyPersonnel:s.fractionPersonnelTotalAmount10??"-",deyOrganization:s.fractionOrganizationTotalAmount10??"-",bahman:s.fractionTotalAmount11??"-",bahmanPersonnel:s.fractionPersonnelTotalAmount11??"-",bahmanOrganization:s.fractionOrganizationTotalAmount11??"-",esfand:s.fractionTotalAmount12??"-",esfandPersonnel:s.fractionPersonnelTotalAmount12??"-",esfandOrganization:s.fractionOrganizationTotalAmount12??"-"}));y(r)}},[S,N]),t.useEffect(()=>{var r;c&&(console.log(c),R.error(((r=c==null?void 0:c.data)==null?void 0:r.message)||c.error,{autoClose:2e3}))},[c]);const u=t.useMemo(()=>[{accessorKey:"fractionYear",header:"سال",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"fractiontypeName",header:"نوع سابقه",size:20},{accessorKey:"chestName",header:"نام صندوق",size:20},{accessorKey:"fractionOrganization",header:"سازمان",size:20},{accessorKey:"farv",header:"فروردین",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.farvOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.farvPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"ordib",header:"اردیبهشت",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.ordibOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.ordibPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"khord",header:"خرداد",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.khordOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.khordPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"tir",header:"تیر",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.tirOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.tirPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"mordad",header:"مرداد",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.mordadOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.mordadPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"shah",header:"شهریور",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.shahOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.shahPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"mehr",header:"مهر",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.mehrOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.mehrPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"aban",header:"آبان",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.abanOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.abanPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"azar",header:"آذر",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.azarOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.azarPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"dey",header:"دی",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.deyOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.deyPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"bahman",header:"بهمن",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.bahmanOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.bahmanPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})},{accessorKey:"esfand",header:"اسفند",size:20,Cell:({renderedCellValue:r,row:s})=>e.jsx(m,{title:e.jsxs("div",{style:{fontFamily:"sahel",fontSize:"1rem"},children:[`سهم کارفرما : ${o(a(s.original.esfandOrganization))}`,e.jsx("br",{}),`سهم کارمند : ${o(a(s.original.esfandPersonnel))}`]}),children:e.jsx("div",{children:o(a(r))})})}],[]),f=K({...Q,columns:u,data:p,muiTableBodyRowProps:({row:r})=>({onClick:()=>h(()=>({[r.id]:!0})),selected:l[r.id],sx:{cursor:"pointer"}}),renderTopToolbarCustomActions:()=>e.jsx(I,{children:x?e.jsx(C,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(k,{size:20,value:100})}):e.jsx(m,{title:"بروز رسانی",children:e.jsx("span",{children:e.jsx(C,{"aria-label":"refresh",color:"info",onClick:j,children:e.jsx(W,{fontSize:"small"})})})})}),muiPaginationProps:{size:"small",shape:"rounded",showRowsPerPage:!1,renderItem:r=>e.jsx($,{...r,page:a(r.page),slots:{previous:E,next:M,first:G,last:U}})},getRowId:r=>r.id,onRowSelectionChange:h,state:{rowSelection:l}});return e.jsx(e.Fragment,{children:z?e.jsx("div",{className:"skeleton-lg",children:e.jsx(V,{count:5,baseColor:"#dfdfdf",highlightColor:"#9f9f9f",duration:1,direction:"rtl"})}):e.jsx(Y,{table:f})})};function ye(){const[l,h]=t.useState({}),[p,y]=t.useState([]),n=F(),i=new URLSearchParams(n.search).get("personID"),{data:N,isSuccess:S,isLoading:z,isFetching:x,refetch:_,error:c}=de({personID:i}),j=()=>{_()};t.useEffect(()=>{if(S){const r=N.itemList.map((s,T)=>({rowNum:T+1,personnelStatementOffTypeName:s.personnelStatementOffTypeName,personnelStatementOffYear:s.personnelStatementOffYear,personnelStatementOffMonth:s.personnelStatementOffMonth,personnelStatementOffDay:s.personnelStatementOffDay}));y(r)}},[S,N]),t.useEffect(()=>{var r;c&&(console.log(c),R.error(((r=c==null?void 0:c.data)==null?void 0:r.message)||c.error,{autoClose:2e3}))},[c]);const u=t.useMemo(()=>[{accessorKey:"rowNum",header:"ردیف",enableSorting:!1,enableColumnActions:!1,size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"personnelStatementOffTypeName",header:"نوع خدمت",size:20},{accessorKey:"personnelStatementOffYear",header:"سال",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"personnelStatementOffMonth",header:"ماه",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"personnelStatementOffDay",header:"روز",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"reaclTotal",header:"جمع واقعی",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})},{accessorKey:"total",header:"جمع",size:20,Cell:({renderedCellValue:r})=>e.jsx("div",{children:a(r)})}],[]),f=K({...Q,columns:u,data:p,muiTableBodyRowProps:({row:r})=>({onClick:()=>h(()=>({[r.id]:!0})),selected:l[r.id],sx:{cursor:"pointer"}}),renderTopToolbarCustomActions:()=>e.jsx(I,{children:x?e.jsx(C,{"aria-label":"refresh",color:"info",disabled:!0,children:e.jsx(k,{size:20,value:100})}):e.jsx(m,{title:"بروز رسانی",children:e.jsx("span",{children:e.jsx(C,{"aria-label":"refresh",color:"info",onClick:j,children:e.jsx(W,{fontSize:"small"})})})})}),muiPaginationProps:{size:"small",shape:"rounded",showRowsPerPage:!1,renderItem:r=>e.jsx($,{...r,page:a(r.page),slots:{previous:E,next:M,first:G,last:U}})},getRowId:r=>r.id,onRowSelectionChange:h,state:{rowSelection:l}});return e.jsx(e.Fragment,{children:z?e.jsx("div",{className:"skeleton-lg",children:e.jsx(V,{count:5,baseColor:"#dfdfdf",highlightColor:"#9f9f9f",duration:1,direction:"rtl"})}):e.jsx(Y,{table:f})})}function Se(){const[l,h]=t.useState("1"),p=(n,v)=>{h(v)};return e.jsx("section",{className:"u-margin-top-lg",children:e.jsxs(fe,{value:l,children:[e.jsx(I,{sx:{bgcolor:"background.paper",borderRadius:1},children:e.jsxs(je,{onChange:p,"aria-label":"tabs",variant:"fullWidth",children:[e.jsx(L,{label:"احکام کارمندی",value:"1"}),e.jsx(L,{label:"تعرفه",value:"2"}),e.jsx(L,{label:"احکام بازنشستگی",value:"3"})]})}),e.jsx(w,{value:"1",sx:{padding:"0"},children:e.jsx(ge,{})}),e.jsx(w,{value:"2",sx:{padding:"0"},children:e.jsxs("div",{className:"flex-col",children:[e.jsx(ye,{}),e.jsx(be,{})]})}),e.jsx(w,{value:"3",sx:{padding:"0"},children:e.jsx(xe,{})})]})})}function Me(){const[l]=re(),h=ae(),p=l.get("personID");return t.useEffect(()=>{p||h(-1)},[p,h]),p?e.jsxs("section",{className:"flex-col u-margin-bottom-md",children:[e.jsxs("div",{className:"title-primary--container flex-row flex-center",children:[e.jsxs("h4",{className:"title-primary",children:[e.jsx("span",{className:"title-primary--underline"}),"اطلاعات کارمند"]}),e.jsx("div",{style:{marginRight:"auto"},className:"back-button",children:e.jsx(m,{title:"بازگشت",children:e.jsx("span",{children:e.jsx(C,{color:"primary",onClick:()=>h(-1),children:e.jsx(oe,{})})})})})]}),e.jsx(ue,{}),e.jsx(Se,{})]}):e.jsx(le,{})}export{Me as default};
