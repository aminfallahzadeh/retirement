import{r as m,j as r,Q as S,I as C,m as P,aO as I,aZ as E,R as O,aU as R,e7 as T,a as b,G as y,w as A,ec as i}from"./index-DcaVl4xy.js";import{u as q,m as N,C as $}from"./main-BuRnq8QX.js";const z=({name:e,label:t,disabled:o,format:n="jYYYY/jMM/jDD",rules:s,control:a,required:c=!1,errors:l,setValue:x})=>{var f;const u=m.useRef(null),[j,d]=m.useState(!1),D=p=>{d(p)},g=()=>{x(e,null)};return q([u],[d]),r.jsxs("div",{className:"inputBox__form",children:[r.jsx(S,{name:e,control:a,rules:s,render:({field:{onChange:p,value:h}})=>r.jsx(N.InputDatePicker,{id:e,"aria-label":e,disabled:o,format:n,value:h,open:j,suffixIcon:h&&!o?r.jsx(C,{color:"default",size:"small",onClick:g,children:r.jsx(P,{})}):r.jsx($,{color:"action"}),defaultValue:null,onOpenChange:D,onChange:v=>{d(!1),p(v)},pickerProps:{...u&&{ref:u}},style:{border:"none",cursor:"pointer"},wrapperStyle:{border:"1px solid var(--color-input-border)",width:"100%",height:"100%",paddingLeft:"20px",borderRadius:"4px",cursor:"pointer"}})}),r.jsxs("label",{htmlFor:e,className:"inputBox__form--readOnly-label",children:[c&&r.jsx("span",{children:"*"})," ",t]}),l&&r.jsx("span",{className:"error-form",children:(f=l==null?void 0:l[e])==null?void 0:f.message})]})},B=(e,t,o,n)=>{if(!e)return{};const s={...e};return Object.keys(s).forEach(a=>{var c;o.includes(a)?s[a]=s[a]===null?null:I(s[a]):t.includes(a)&&(s[a]=s[a]===null?null:(c=n[a])==null?void 0:c.find(l=>l.value===s[a]))}),s},F=(e,t,o)=>{const n={...e};return o.forEach(s=>{if(e[s]){const a=new Date(e[s]);a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),n[s]=a}else n[s]=null}),t.forEach(s=>{e[s]&&e[s].value!==void 0&&(n[s]=e[s].value)}),Object.keys(n).forEach(s=>{!o.includes(s)&&!t.includes(s)&&(n[s]=E(e[s]))}),n},G=()=>[{accessorKey:"pensionaryStatusRowNum",header:O,size:20,enableSorting:!1,enableColumnActions:!1},{accessorKey:"pensionaryStatusName",header:R,size:20},{accessorKey:"pensionaryStartdate",header:T,size:20,Cell:({renderedCellValue:e})=>r.jsx("div",{children:b(e)})},{accessorKey:"isActive",header:R,size:20,Cell:({renderedCellValue:e})=>r.jsx("div",{children:e===!0?"فعال":"غیرفعال"})}],L=({data:e,isLoading:t,isFetching:o})=>{const n=G();return r.jsx(y,{data:e,columns:n,scroll:!1,isLoading:t,isFetching:o,sorting:[{id:"isActive",desc:!0}],highlightActive:!0})},M=A.injectEndpoints({endpoints:e=>({getRelatedListByParentPersonID:e.query({query:t=>({url:`${i}/GetRelatedListByParentPersonID?parentPersonID=${t}`})}),getRelated:e.query({query:t=>({url:`${i}/GetRelated?personID=${t}`})}),insertRelated:e.mutation({query:t=>({url:`${i}/InsertRelated`,method:"POST",body:t})}),updateRelated:e.mutation({query:t=>({url:`${i}/UpdateRelated`,method:"POST",body:t})}),removeRelated:e.mutation({query:({pensionaryID:t})=>({url:`${i}/RemoveRelated?pensionaryID=${t}`,method:"POST"})})})}),{useGetRelatedListByParentPersonIDQuery:U,useGetRelatedQuery:Y,useInsertRelatedMutation:Q,useUpdateRelatedMutation:H,useRemoveRelatedMutation:K}=M;export{z as D,L as S,F as a,K as b,Q as c,Y as d,H as e,B as p,U as u};
