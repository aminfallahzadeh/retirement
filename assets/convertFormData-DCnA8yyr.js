import{r as x,j as o,e_ as D,I as b,t as v,ay as E,aJ as O}from"./index-DF4pKFh6.js";import{u as I,m as R,C as _}from"./useCloseCalender-DAmngq46.js";const M=({name:s,label:t,disabled:r,format:l="jYYYY/jMM/jDD",rules:e,control:n,required:i=!1,errors:a,setValue:h})=>{var p;const c=x.useRef(null),[j,u]=x.useState(!1),m=f=>{u(f)},g=()=>{h(s,null)};return I([c],[u]),o.jsxs("div",{className:"inputBox__form",children:[o.jsx(D,{name:s,control:n,rules:e,render:({field:{onChange:f,value:d}})=>o.jsx(R.InputDatePicker,{id:s,"aria-label":s,disabled:r,format:l,value:d,open:j,suffixIcon:d&&!r?o.jsx(b,{color:"default",size:"small",onClick:g,children:o.jsx(v,{})}):o.jsx(_,{color:"action"}),defaultValue:null,onOpenChange:m,onChange:C=>{u(!1),f(C)},pickerProps:{...c&&{ref:c}},style:{border:"none",cursor:"pointer"},wrapperStyle:{border:"1px solid var(--color-input-border)",width:"100%",height:"100%",paddingLeft:"20px",borderRadius:"4px",cursor:"pointer"}})}),o.jsxs("label",{htmlFor:s,className:"inputBox__form--readOnly-label",children:[i&&o.jsx("span",{children:"*"})," ",t]}),a&&o.jsx("span",{className:"error-form",children:(p=a==null?void 0:a[s])==null?void 0:p.message})]})},N=(s,t,r,l)=>{if(!s)return{};const e={...s};return Object.keys(e).forEach(n=>{var i;r.includes(n)?e[n]=e[n]===null?null:E(e[n]):t.includes(n)&&(e[n]=e[n]===null?null:(i=l[n])==null?void 0:i.find(a=>a.value===e[n]))}),e},P=(s,t,r)=>{const l={...s};return r.forEach(e=>{if(s[e]){const n=new Date(s[e]);n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),l[e]=n}else l[e]=null}),t.forEach(e=>{s[e]&&s[e].value!==void 0&&(l[e]=s[e].value)}),Object.keys(l).forEach(e=>{!r.includes(e)&&!t.includes(e)&&(l[e]=O(s[e]))}),l};export{M as D,P as a,N as p};
